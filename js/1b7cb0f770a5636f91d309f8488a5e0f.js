;// bundle: page___d5f9642494ebf2533e7730ea6cfc9c57_m
;// files: ~/Generated/js/Roblox_TranslationResources_Feature_MessagesResources_en_us_standard.js, DataPager.js, ~/viewapp/pages/messages/messages.js, ~/viewapp/pages/messages/constants/moduleState.js, ~/viewapp/pages/messages/services/messageLanguageService.js, ~/viewapp/pages/messages/services/messagesService.js, ~/viewapp/pages/messages/controllers/messagesController.js, ~/viewapp/pages/messages/controllers/messagesContentController.js, ~/viewapp/pages/messages/directives/messagesTabsDirective.js, ~/viewapp/pages/messages/directives/messagesNavDirective.js, ~/viewapp/pages/messages/directives/messagesListDirective.js, ~/viewapp/pages/messages/directives/messagesDetailDirective.js, ~/viewapp/pages/messages/directives/messagesAvatarDirective.js, ~/Generated/js/Roblox_TranslationResources_Feature_ShopDialogResources_en_us_standard.js, utilities/popover.js, Navigation/ShopAmazon.js, ~/Generated/js/Roblox_TranslationResources_CommonUI_FeaturesResources_en_us_standard.js, GenericConfirmation.js, utilities/dialog.js, common/deviceMeta.js, TosModalCheck.js, AbuseReport/AbuseReportDispatcher.js

;// ~/Generated/js/Roblox_TranslationResources_Feature_MessagesResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Feature.Messages"]={"Action.Archive":"Archive","Action.Back":"Back","Action.Discard":"Discard","Action.MarkAsRead":"Mark As Read","Action.MarkAsUnread":"Mark As Unread","Action.MoveToInbox":"Move To Inbox","Action.Reply":"Reply","Action.ReportAbuse":"Report Abuse","Action.Send":"Send","Action.SendReply":"Send Reply","Heading.Message":"Messages","Heading.NewMessages":"New Message","Heading.Response":"Responses:","Label.All":"All","Label.Archive":"Archive","Label.Inbox":"Inbox","Label.IncludeMessage":"Include Previous Message","Label.News":"News","Label.NoMessagesInCategory":"You have no {activeTab} messages.","Label.Of":"Of","Label.Select":"Select...","Label.Sent":"Sent","Label.Subject":"Subject:","Label.To":"To:","Message.BodyCantBlank":"The message body can't be blank.","Message.BodyTooLong":"Please shorten your message to {maxLength} characters or less and try again.","Message.GeneralError":"Sorry, an error occurred sending your message.","Message.IdTheftWarning":"Remember, Roblox staff will never ask you for your password. People who ask for your password are trying to steal your account.","Message.NoMessageExist":"Message doesn't exist","Message.NoNews":"You have no news.","Message.NoRecipient":"Recipient doesn't exist!","Message.NotAuthorizeToManipulate":"Not authorized to manipulate message","Message.NotSendAndModerated":"Your message was not sent because it was moderated.","Message.RecipientPrivacySettingsTooHigh":"The recipient's privacy settings prevent you from sending this message.","Message.ReplyHere":"Reply here...","Message.RobloxWarning":"Remember, Roblox staff will never ask you for your password. People who ask for your password are trying to steal your account.","Message.SenderPrivacySettingTooHeight":"Your {frontLink}privacy settings{endLink} prevent you from sending this message.","Message.SendSuccessfully":"Successfully sent message.","Message.SendTooManyMessages":"You're sending too many messages too quickly.","Message.SubjectCantBlank":"The message subject can't be blank.","Message.UnknownError":"Unknown error","Message.UnknownMessageType":"A message cannot be displayed","Message.VerifySenderEmail":"You must verify your email on the {frontLink}Account Settings{endLink} page before you can send messages.","Message.WriteYourMessage":"Write your message..."},Roblox.Lang.MessagesResources=Roblox.Lang["Feature.Messages"];

;// DataPager.js
function DataPager(n,t,i,r,u,f,e,o){function b(){s<1&&(s=1),s>c&&(s=c),h.find(".disabled").removeClass("disabled"),a.Paging_PageNumbers_AreLinks?h.find(":contains('"+s+"')").addClass("disabled"):h.find(".CurrentPage").text(s),s==1&&(h.find('[pagingaction="First"]').addClass("disabled"),h.find('[pagingaction="Previous"]').addClass("disabled"),h.find('[pagingaction="Next"]').removeClass("disabled"),h.find('[pagingaction="Last"]').removeClass("disabled")),s==c&&(h.find('[pagingaction="First"]').removeClass("disabled"),h.find('[pagingaction="Previous"]').removeClass("disabled"),h.find('[pagingaction="Next"]').addClass("disabled"),h.find('[pagingaction="Last"]').addClass("disabled"))}function g(){if(elem=$(this),!elem.hasClass("disabled")&&elem.attr("pagingaction")!==undefined){s=parseInt(s,10);switch(elem.attr("pagingaction")){case"First":s=1;break;case"Previous":s-=1;break;case"Next":s+=1;break;case"Last":s=c;break;default:s=elem.html()}s<1&&(s=1),s>c&&(s=c),a.pagingClickFunction?a.pagingClickFunction(s):(l.html('<div class="loading"></div>'),v((s-1)*t+1,t))}}function p(){var i,r;if(n<=t){h.html("");return}if(i=$("<span></span>").append('<a class="disabled pager first" pagingaction="First">First</a><a class="disabled pager previous" pagingaction="Previous">Previous</a>'),a.Paging_PageNumbers_AreLinks){for(i.append('<a class="disabled pager page text" pagingaction="PageNum">1</a>'),r=t;r<n;r+=t)i.append('<a pagingaction="PageNum">'+(r/t+1)+"</a>");i.append('<a class="pager next" pagingaction="Next">Next</a><a class="pager last" pagingaction="Last">Last</a>')}else i=$("<span></span>").append('<a class="disabled pager first" pagingaction="First"></a><a class="disabled pager previous" pagingaction="Previous"></a>'),i.append('<span class="page text">Page <span class="CurrentPage">1</span> of <span class="TotalPages">'+c+"</span></span>"),i.append('<a class="pager next" pagingaction="Next"></a><a class="pager last" pagingaction="Last"></a>');i.children().each(function(){$(this).bind("click",g)}),h.html($('<div class="JSPager_Container"></div>').append(i))}var y;if(!(this instanceof DataPager))return new DataPager(n,containerDivID,u,f);var n=n,t=t,s=1,c=Math.ceil(n/t),l=$("#"+i),h=$("#"+r),v=u,w=f,d=e,a={Paging_PageNumbers_AreLinks:!0,FetchItemsOnLoad:!0,pagingClickFunction:!1};for(y in o)a[y]=o[y];var nt=function(n){l.html("");var t=n;l.append(t)},tt=function(i,r){r!=undefined&&(s=r),n=i,(c!=Math.ceil(n/t)||n==t||n==0)&&(c=Math.ceil(n/t),p()),b()},k=function(i){var r,u;if(l.html(""),r=i.data,r==null||r.length==0){l.append(w(r));return}for(u=0;u<r.length;u++)l.append(w(r[u])),d(r[u]);l.append('<div style="clear:both;"></div>'),n=i.totalItems,c!=Math.ceil(n/t)&&(c=Math.ceil(n/t),p()),b()};return function(){a.FetchItemsOnLoad&&v(1,t),n>t&&p()}(),{getItemsPaged:v,update:k,updateHtml:nt,callUpdatePager:tt,totalItems:n,itemContainerDiv:l,getStartIndex:function(){return(s-1)*t+1},getCurrentPage:function(){return s},isLastPage:function(){return c==s}}}

;// ~/viewapp/pages/messages/messages.js
"use strict";var messages=angular.module("messages",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","languageResourceProvider",function(n,t,i,r){var u=window.location.href,f,e;u.indexOf("#")!=-1&&u.indexOf("#!")==-1&&(window.location.href=u.replace("#","#!")),i.html5Mode(!1),i.hashPrefix("!"),t.otherwise("/inbox"),n.state("inbox",{url:"/inbox?page&messageIdx&conversationId",templateUrl:Roblox.websiteTemplates.messageTemplate,controller:"messagesContentController"}).state("sent",{url:"/sent?page&messageIdx",templateUrl:Roblox.websiteTemplates.messageTemplate,controller:"messagesContentController"}).state("notifications",{url:"/notifications",templateUrl:Roblox.websiteTemplates.notificationTemplate,controller:"messagesContentController"}).state("archive",{url:"/archive?page&messageIdx",templateUrl:Roblox.websiteTemplates.messageTemplate,controller:"messagesContentController"}),Roblox.TranslationResourceProvider?(f=new Roblox.TranslationResourceProvider,e=f.getTranslationResource("Feature.Messages"),r.setTranslationResources([e])):r.setLanguageKeysFromFile(Roblox.Lang["Feature.Messages"])}]);

;// ~/viewapp/pages/messages/constants/moduleState.js
messages.constant("moduleState",{list:"list",detail:"detail"});

;// ~/viewapp/pages/messages/services/messageLanguageService.js
"use strict";messages.factory("messageLanguageService",["$log","languageResource",function(n,t){var i=t;return{messages:{unknownError:i.get("Message.UnknownError")},tabs:{inbox:{name:"inbox",label:i.get("Label.Inbox")},sent:{name:"sent",label:i.get("Label.Sent")},notifications:{name:"notifications",label:i.get("Label.News")},archive:{name:"archive",label:i.get("Label.Archive")}}}}]);

;// ~/viewapp/pages/messages/services/messagesService.js
"use strict";messages.factory("messagesService",["httpService","$log","messageLanguageService",function(n,t,i){var r={MAXROWS:20,HTTPCALLFAILS:"fails ",currentTab:null,currentPage:0,sentMessageComplete:!1,sendMessageError:{hasError:!1,details:""},tabNameToId:function(n){switch(n){case"inbox":return 0;case"sent":return 1;case"notifications":return 2;case"archive":return 3;default:return 0}},setTab:function(n){var i=r.tabNameToId(n);return i>=0&&i<4?(r.currentTab=i,!0):(r.currentTab=0,t.debug("Invalid attempt to change tab to non MESSAGETABS value"),!1)},setPage:function(n){return n<0?(t.debug("Invalid attempt to set page to page "+n),!1):(r.currentPage=n,!0)},beginUpdateMessages:function(){var t,i,u;return r.currentTab===2?(t=Roblox.websiteLinks.GetFormattedNotificationsJsonLink,i={}):(t=Roblox.websiteLinks.GetFormattedMessagesJsonLink,i={pageNumber:r.currentPage,pageSize:r.MAXROWS,messageTab:r.currentTab}),u={url:t,noCache:!0},n.httpGet(u,i)},beginMarkMessagesRead:function(t,i){var r=i?Roblox.websiteLinks.MarkMessagesReadLink:Roblox.websiteLinks.MarkMessagesUnreadLink,u={messageIds:t},f={url:r};return n.httpPost(f,u)},beginSetArchiveMessages:function(t,i){var r=i?Roblox.websiteLinks.ArchiveMessagesLink:Roblox.websiteLinks.UnarchiveMessagesLink,u={messageIds:t},f={url:r};return n.httpPost(f,u)},beginSendMessage:function(t,i,u,f,e){r.sentMessageComplete=!1;var o=Roblox.websiteLinks.SendMessageJsonResultLink,s={subject:t,body:i,recipientId:u,replyMessageId:f,includePreviousMessage:e},h={url:o};return n.httpPost(h,s,!0).then(r.endSendMessageSuccess,r.endSendMessageError)},endSendMessageSuccess:function(n){var t=n.data;r.sendMessageError={hasError:!t.success,details:t.message},r.sentMessageComplete=!0},endSendMessageError:function(){r.sendMessageError={hasError:!0,details:i.messages.unknownError},r.sentMessageComplete=!0},getMessageDetailById:function(t){var i=Roblox.websiteLinks.GetMessageDetailByIdLink+t,r={url:i};return n.httpGet(r)}};return r}]);

;// ~/viewapp/pages/messages/controllers/messagesController.js
"use strict";messages.controller("messagesController",["$scope","messagesService","messageLanguageService","moduleState","$log","$document",function(n,t,i,r,u,f){u.debug("scope from messagesController "),n.tabs=i.tabs,n.moduleState=r,n.MESSAGETABS=[n.tabs.inbox,n.tabs.sent,{name:n.tabs.notifications.name,label:n.tabs.notifications.label,count:Roblox.messagesModel.totalAnnouncements},n.tabs.archive],n.MESSAGEDEFAULTS={robloxUserId:Roblox.messageDefaults.robloxUserId,systemUserId:1,robloxUserName:Roblox.messageDefaults.robloxUserName,robloxUserThumbnail:{Url:Roblox.messageDefaults.robloxUserThumbnail,Final:!0},robloxSystemThumbnail:{Url:Roblox.messagesModel.adminIconUrl,Final:!0}},n.currentStatus=n.currentStatus?n.currentStatus:{activeTabLabel:n.MESSAGETABS[0].label,activeTab:n.MESSAGETABS[0].name,currentPage:1,totalPages:1,moduleState:r.list,messageIdx:null,conversationId:null,loadMessages:!0,isSingleMessageDetail:!1},n.messageContent={messages:{},selectedMessageIndexs:[],selectedMessage:null,selectedAll:!1,loadingComplete:!1,messageDict:{}},n.resetCurrentStatus=function(){n.currentStatus.isSingleMessageDetail&&(n.currentStatus.isSingleMessageDetail=!1)},n.resetMessageContent=function(){n.messageContent&&(n.messageContent.messages={},n.messageContent.selectedMessageIndexs=[],n.messageContent.selectedMessage=null),n.resetCurrentStatus()},n.getMessageDetailById=function(){n.resetMessageContent(),t.setPage(1),n.messageContent.loadingComplete=!1,n.currentStatus.loadMessages=!1,n.currentStatus.isSingleMessageDetail=!0,t.getMessageDetailById(n.currentStatus.conversationId).then(function(i){i&&(n.messageContent.loadingComplete=!0,n.currentStatus.loadMessages=!0,n.currentStatus.conversationId=null,n.currentStatus.moduleState=r.detail,n.messageContent.selectedMessage=i,n.messageContent.selectedMessage.IsRead||t.beginMarkMessagesRead([n.messageContent.selectedMessage.Id],!0,!1),f.triggerHandler("Roblox.Messages.CountChanged"))},function(t){n.currentStatus.currentPage=1,n.currentStatus.totalPages=1,n.messageContent.loadingComplete=!0,n.messageContent.messages={data:t,hasError:!0}})},n.getMessages=function(i,u){n.messageContent.loadingComplete=!1,t.setTab(i),t.setPage(u-1),t.beginUpdateMessages().then(function(i){var e=i.PageNumber?+i.PageNumber+1:1,u;n.currentStatus.currentPage=e,n.currentStatus.totalPages=i.TotalPages?i.TotalPages:1,n.messageContent.loadingComplete=!0,n.messageContent.messages={data:i,hasError:!1},angular.forEach(i.Collection,function(t){n.messageContent.messageDict[t.Id]=t}),u=n.currentStatus.messageIdx,u!=null?(n.currentStatus.moduleState=r.detail,n.messageContent.selectedMessage=i.Collection[u],n.messageContent.selectedMessage.IsRead||t.beginMarkMessagesRead([n.messageContent.selectedMessage.Id],!0,!1)):n.currentStatus.moduleState=r.list,f.triggerHandler("Roblox.Messages.CountChanged")},function(t){n.currentStatus.currentPage=1,n.currentStatus.totalPages=1,n.messageContent.loadingComplete=!0,n.messageContent.messages={data:t,hasError:!0}})},n.$on("$stateChangeSuccess",function(t,i,r){if(u.debug(" --- receiving route is changing --- "),n.currentStatus.loadMessages){var o=r.page?r.page:1,s=angular.isDefined(r.messageIdx)?r.messageIdx:null;n.currentStatus.activeTab=i.name,n.currentStatus.activeTabLabel=n.tabs[i.name].label,n.currentStatus.messageIdx=s,angular.isDefined(r.conversationId)?(n.currentStatus.conversationId=r.conversationId,n.getMessageDetailById(i.name,o)):n.getMessages(i.name,o)}else n.currentStatus.loadMessages=!0})}]);

;// ~/viewapp/pages/messages/controllers/messagesContentController.js
"use strict";messages.controller("messagesContentController",["$scope","messagesService","$document","$location","$log",function(n,t,i,r){n.toggleMessagesBox=function(u){if(n.resetCurrentStatus(),u===n.moduleState.detail){n.currentStatus.loadMessages=!1,this.message.IsRead||(this.message.IsRead=!0,t.beginMarkMessagesRead([this.message.Id],!0,!1).then(function(){i.triggerHandler("Roblox.Messages.CountChanged")})),n.toggleSelection(this.$index),n.messageContent.selectedMessage=this.message,Roblox===undefined||Roblox.Linkify===undefined||this.message.IsSystemMessage||(this.message.Body=Roblox.Linkify.String(this.message.Body));var f=r.search();f.messageIdx=this.$index,r.search(f)}else n.messageContent.selectedMessageIndexs=[],n.messageContent.selectedMessage=null;n.currentStatus.moduleState=u},n.messageContent.selectedAll=!1,n.messageContent.selectedMessageIndexs=[],n.resetCheckboxStatusByMessageIndexes=function(){angular.forEach(n.messageContent.selectedMessageIndexs,function(t){var i=n.messageContent.messages.data.Collection[t];i.checked=!1}),n.messageContent.selectedMessageIndexs=[],n.messageContent.selectedAll&&(n.messageContent.selectedAll=!1)},n.toggleSelection=function(t){var i=n.messageContent.selectedMessageIndexs.indexOf(t);i>-1?n.messageContent.selectedMessageIndexs.splice(i,1):n.messageContent.selectedMessageIndexs.push(t)},n.checkAll=function(){n.messageContent.selectedAll=!n.messageContent.selectedAll,angular.forEach(n.messageContent.messages.data.Collection,function(t,i){t.checked=n.messageContent.selectedAll,n.messageContent.selectedAll&&n.messageContent.selectedMessageIndexs.push(i)}),n.messageContent.selectedAll||(n.messageContent.selectedMessageIndexs=[])},n.sendMessage={disableReplyBtn:!1,disableSendBtn:!1,replyContent:"",sendComplete:!1,sendResult:{},includePreviousMessage:!0}}]);

;// ~/viewapp/pages/messages/directives/messagesTabsDirective.js
"use strict";messages.directive("rbxTabs",["$log",function(n){return{restrict:"A",scope:!0,replace:!0,templateUrl:Roblox.websiteTemplates.tabsTemplate,link:function(t){n.debug("..start roblox tabs .."),t.tabs=t.MESSAGETABS,t.currentStatus.moduleState=t.moduleState.list,t.onClickTab=function(n){t.currentStatus.moduleState===t.moduleState.detail&&(t.currentStatus.isSingleMessageDetail||(t.currentStatus.loadMessages=!1),t.currentStatus.moduleState=t.moduleState.list),n.name!==t.currentStatus.activeTab&&t.resetMessageContent();var r=new Date(Roblox.messagesModel.minimumAdRefreshInterval),i=new Date;i>Roblox.messagesModel.lastAdRefresh.getTime()+r.getTime()&&(googletag.cmd.push(function(){googletag.pubads().refresh()}),Roblox.messagesModel.lastAdRefresh=i)}}}}]);

;// ~/viewapp/pages/messages/directives/messagesNavDirective.js
"use strict";messages.directive("rbxMessagesNav",["messagesService","$location","$log","$document",function(n,t,i,r){return{restrict:"A",scope:!0,replace:!0,templateUrl:Roblox.websiteTemplates.messagesNavTemplate,link:function(u){i.debug("message navigation"),u.markRead=function(t){if(i.debug("========Read======="),u.messageContent.selectedMessageIndexs.length>0){var f=[];angular.forEach(u.messageContent.selectedMessageIndexs,function(n){u.messageContent.messages.data.Collection[n].IsRead=t,f.push(u.messageContent.messages.data.Collection[n].Id)}),u.resetCheckboxStatusByMessageIndexes(),n.beginMarkMessagesRead(f,t).then(function(){r.triggerHandler("Roblox.Messages.CountChanged")})}},u.markArchive=function(t){i.debug("======= Archive========");var f=[];u.messageContent.selectedMessageIndexs.length>0?(angular.forEach(u.messageContent.selectedMessageIndexs,function(n){f.push(u.messageContent.messages.data.Collection[n].Id)}),u.resetCheckboxStatusByMessageIndexes(),n.beginSetArchiveMessages(f,t).then(function(){u.getMessages(u.currentStatus.activeTab,u.currentStatus.currentPage),u.toggleMessagesBox("list"),r.triggerHandler("Roblox.Messages.CountChanged")})):u.messageContent.selectedMessage!==null&&(f.push(u.messageContent.selectedMessage.Id),n.beginSetArchiveMessages(f,t).then(function(){u.toggleMessagesBox(u.moduleState.list)}))},u.pagination=function(n){var i,r;switch(n){case"prev":i=u.currentStatus.currentPage-1;break;case"next":i=u.currentStatus.currentPage+1;break;case"end":i=u.currentStatus.totalPages;break;case"start":i=1;break;default:i=1}r=i>1?{page:i}:{},t.search(r)},u.requestReply=function(){u.sendMessage.disableReplyBtn=!0,u.sendMessage.disableSendBtn=!1,u.sendMessage.sendComplete=!1,u.sendMessage.sendResult={}}}}}]);

;// ~/viewapp/pages/messages/directives/messagesListDirective.js
"use strict";messages.directive("rbxMessagesList",["messagesService","$location","$log",function(n,t,i){return{restrict:"A",scope:!0,replace:!0,templateUrl:Roblox.websiteTemplates.messagesListTemplate,link:function(n){i.debug("============== message list =============="),n.$watch(function(){return n.messageContent.messages},function(r){var f,e;!r.hasError&&n.messageContent.loadingComplete&&(i.debug("  ========== roblox message page =========== "),f=r.data?+r.data.PageNumber+1:1,n.currentStatus.activeTab=="notifications"?n.notifications=r.data:n.messages=r.data,t.search().page!=f&&(e=f>1?{page:f}:{},t.search(e)))},!1)}}}]);

;// ~/viewapp/pages/messages/directives/messagesDetailDirective.js
"use strict";messages.directive("rbxMessagesDetail",["messagesService","$sce","$log",function(n,t,i){return{restrict:"A",scope:{toggleMessagesBox:"&",selectedMessage:"=",sendMessage:"=",currentStatus:"=",messageDefaults:"="},replace:!0,templateUrl:Roblox.websiteTemplates.messagesBodyTemplate,link:function(r){i.debug("============== message detail =============="),r.sendMessage.disableSendBtn=!1,r.sendMessage.disableReplyBtn=!1,r.sendMessage.sendComplete=!1,r.sendMessage.sendResult={},r.sendMessage.replyContent="",r.sendReply=function(){i.debug("inside send reply function"),r.sendMessage.disableSendBtn=!0;var u=t.trustAsHtml(r.sendMessage.replyContent).$$unwrapTrustedValue();n.beginSendMessage(r.selectedMessage.Subject,u,r.selectedMessage.Sender.UserId,r.selectedMessage.Id,r.sendMessage.includePreviousMessage)},r.presetMessage=function(n){r.sendMessage.replyContent=n.Message},r.$watch(function(){return n.sentMessageComplete},function(t,i){t!=i&&t&&(r.sendMessage.sendComplete=!0,r.sendMessage.disableSendBtn=!1,r.sendMessage.sendResult=n.sendMessageError,r.sendMessage.sendResult.hasError?Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-warning"),100,2e3):(Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-success"),100,2e3),$(document).triggerHandler("Roblox.Messages.MessageSent")),n.sendMessageError.hasError||(r.sendMessage.disableReplyBtn=!1,r.sendMessage.replyContent=""))},!0)}}}]);

;// ~/viewapp/pages/messages/directives/messagesAvatarDirective.js
"use strict";messages.directive("rbxAvatar",["robloxImagesService","$log",function(n,t){return{restrict:"A",scope:{thumbnail:"="},replace:!1,templateUrl:Roblox.websiteTemplates.avatarTemplate,link:function(i){var f=i.$watch(function(){return i.thumbnail},function(r){r&&(t.debug("---get thumbnail ! --"+r.Url),i.thumbnailUrl=r.Url,r.Final||n.getImageUrl(r,function(n){i.thumbnailUrl=n},0))},!0);i.$on("$destroy",function(){f&&f()})}}}]);

;// ~/Generated/js/Roblox_TranslationResources_Feature_ShopDialogResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Feature.ShopDialog"]={"Action.Cancel":"Cancel","Action.Continue":"Continue","Action.ContinueToShop":"Continue to Shop","Description.AgeWarning":"Please note that you need to be over 18 to purchase products online. The Amazon store is not part of Roblox.com and is governed by a separate privacy policy.","Description.AmazonRedirect":"Your are about to visit our amazon store. You will be redirected to Roblox merchandise store on {shopLink}.","Description.PurchaseAgeWarning":"Please note that you need to be over 18 to purchase products online. We hope to see you again soon!","Description.RetailWebsiteRedirect":"Heads up, Robloxian – by clicking “continue,” you will be redirected to a retail website that is not owned or operated by Roblox. They may have different terms and privacy policies.","Heading.LeavingRoblox":"You are leaving Roblox"},Roblox.Lang.ShopDialogResources=Roblox.Lang["Feature.ShopDialog"];

;// utilities/popover.js
var Roblox=Roblox||{};Roblox.Popover=function(){"use strict";function u(n,i){var u=$(n),f=$(i),e=$(t),h=e.outerWidth(),c=u.find(r).outerWidth(),l=e.offset().left,o=0,s;(u.hasClass("bottom")||u.hasClass("top"))&&(s=$("body").outerWidth()-parseInt(f.width()+f.offset().left),o=$("body").outerWidth()-l-s-h/2-c/2,u.find(r).css("right",o))}function f(t){return t.data("hiddenClassName")&&(n=t.data("hiddenClassName")),n}function s(){$(t).on("click",function(t){var s=$(this).data("bind"),h=s?"#"+s:i,r=$(h),c=$(this).data("container"),l=c?"#"+c:o,e;n=f(r),r.hasClass("manual")||r.toggleClass(n),e=!r.hasClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isOpen:e,eventType:t.type}),e||u(h,l)})}function h(){$("body").on("click",function(r){$(t).each(function(){var u=$(this).data("bind"),t=u?$("#"+u):$(i),o="roblox-popover-open-always",e="roblox-popover-close";if(n=f(t),$(t).hasClass(o)&&!$(r.target).hasClass(e))return!1;!$(r.target).hasClass(e)&&($(this).is(r.target)||$(this).has(r.target).length!==0||t.has(r.target).length!==0||t.hasClass(n)||r.type!=="click")||(t.addClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isHidden:!0,eventType:r.type}))})})}function e(){s(),h()}var t=".roblox-popover",i=".roblox-popover-content",o=".roblox-popover-container",r=".arrow",n="hidden";return $(function(){e()}),{init:e,setUpTrianglePosition:u}}();

;// Navigation/ShopAmazon.js
Roblox=Roblox||{},Roblox.ShopAmazon=function(){function i(){$("a.roblox-shop-interstitial").on("click",function(t){t.preventDefault();var i={title:"You are leaving Roblox",accept:"Continue",decline:"Cancel",bodyContent:function(){return"Heads up, Robloxian – by clicking “continue,” you will be redirected to a retail website that is not owned or operated by Roblox. They may have different terms and privacy policies. Please note that you need to be over 18 to purchase products online. We hope to see you again soon!</p>"}};n&&(i={title:n.f(Roblox.Lang.ShopDialogResources["Heading.LeavingRoblox"]),accept:n.f(Roblox.Lang.ShopDialogResources["Action.Continue"]),decline:n.f(Roblox.Lang.ShopDialogResources["Action.Cancel"]),bodyContent:function(){var t=n.f(Roblox.Lang.ShopDialogResources["Description.RetailWebsiteRedirect"]),i=n.f(Roblox.Lang.ShopDialogResources["Description.PurchaseAgeWarning"]);return"<p>"+t+" "+i+"</p>"}}),Roblox.Dialog.open({titleText:i.title,bodyContent:i.bodyContent(),allowHtmlContentInBody:!0,acceptText:i.accept,declineText:i.decline,xToCancel:!0,acceptColor:Roblox.Dialog.green,declineColor:Roblox.Dialog.white,onAccept:r})})}function r(){window.open(t,"_blank")}function u(){t=$("#i18nForAmazonShopSwitch").data("amazon-store-url"),n=$("#i18nForAmazonShopSwitch").data("is-i18n-enabled-for-shop-amazon-dialog")?new Roblox.Intl:!1,i()}var n,t;$(function(){u()})}();

;// ~/Generated/js/Roblox_TranslationResources_CommonUI_FeaturesResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["CommonUI.Features"]={"Action.BackToTop":"Back To Top","Action.BuyAccess":"Buy Access","Action.Cancel":"Cancel","Action.Ok":"Ok","Action.sUpgradeNow":"Upgrade Now",BuyAccessToGameForModal:"Would you like to buy access to the Place: {placeName} from {creatorName} for {robux}?","Description.CopyRightMessage":"©2018 Roblox Corporation. Roblox, the Roblox logo and Powering Imagination are among our registered and unregistered trademarks in the U.S. and other countries.","Description.CopyRightMessageDynamicYear":"©{copyrightYear} Roblox Corporation. Roblox, the Roblox logo and Powering Imagination are among our registered and unregistered trademarks in the U.S. and other countries.","Description.UnsupportedLanguage":"While some games may use the selected language, it is not fully supported by roblox.com.","Description.UnsupportedLanguageModal":"{userLanguage} is currently unavailable on roblox.com. You will see in-game content in {platformLanguage}, and roblox.com has been set to English.","Heading.BuyItem":"Buy Item","Heading.UnsupportedLanguage":"Unsupported Language","Label.AboutUs":"About Us","Label.AuthenticationError":"Authentication Error","Label.Badges":"Badges","Label.Careers":"Careers","Label.Configure":"Configure","Label.ConfigureGame":"Configure Game","Label.ConfigurePlace":"Configure Place","Label.ConfigurePrivateServer":"Configure VIP Server","Label.ContactUs":"Contact Us","Label.Create":"Create","Label.CreateGame":"Create Game","Label.CreateGroup":"Create Group","Label.Discover":"Discover","Label.Favorites":"Favorites","Label.Feeds":"My Feed","Label.FindMyFeed":"Looking for My Feed? It's now in side menu","Label.Help":"Help","Label.Jobs":"Jobs","Label.Library":"Library","Label.Merch":"Merchandise","Label.Parents":"Parents","Label.PlaceStatistics":"Place Statistics","Label.Players":"Players","Label.Privacy":"Privacy","Label.RedeemRobloxCards":"Redeem Roblox Cards","Label.sAvatar":"Avatar","Label.sBlog":"Blog","Label.sCatalog":"Catalog","Label.sDevelop":"Develop","Label.sEvents":"Events","Label.sForum":"Forum","Label.sFriends":"Friends","Label.sGames":"Games","Label.sGroups":"Groups","Label.sHome":"Home","Label.sInventory":"Inventory","Label.sLogin":"Log In","Label.sMessages":"Messages","Label.sProfile":"Profile","Label.sRobux":"Robux","Label.sSearch":"Search","Label.sSearchPhrase":'Search "{phrase}" in {location}',"Label.sShop":"Shop","Label.sSignUp":"Sign Up","Label.Store":"Store","Label.sTrade":"Trade","Label.Support":"Support","Label.Terms":"Terms","Label.TermsOfUse":"Terms of Use","Label.Thanks":"Thanks","Label.Upgrade":"Upgrade"},Roblox.Lang.FeaturesResources=Roblox.Lang["CommonUI.Features"];

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// utilities/dialog.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Dialog=="undefined"&&(Roblox.Dialog=function(){function g(f){var k,c,v,w,o,b;n.isOpen=!0,k={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Lang.ControlsResources["Action.Yes"]||a.Yes,declineText:Roblox.Lang.ControlsResources["Action.No"]||a.No,acceptColor:h,declineColor:s,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,showAccept:!0,showDecline:!0,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},onCloseCallback:t,cssClass:null,checkboxAgreementText:Roblox.Lang.ControlsResources["Action.Agree"]||a.Agree,checkboxAgreementRequired:!1},f=$.extend({},k,f),i.overlayClose=f.dismissable,i.escClose=f.dismissable,f.onCloseCallback&&(i.onClose=function(){f.onCloseCallback(),t()}),c=$(u),c.html(f.acceptText),c.attr("class",f.acceptColor),c.unbind(),c.bind("click",function(){return p(c)?!1:(f.fieldValidationRequired?nt(f.onAccept):l(f.onAccept),!1)}),v=$(e),v.html(f.declineText),v.attr("class",f.declineColor),v.unbind(),v.bind("click",function(){return p(v)?!1:(l(f.onDecline),!1)}),w=$(tt),w.unbind(),w.bind("change",function(){w.is(":checked")?y(c):r(c)}),o=$('[data-modal-type="confirmation"]'),o.find(".modal-title").text(f.titleText),f.imageUrl==null?o.addClass("noImage"):(o.find("img.modal-thumb").attr("src",f.imageUrl),o.removeClass("noImage")),n.extraClass&&(o.removeClass(n.extraClass),n.extraClass=!1),f.cssClass!=null&&(o.addClass(f.cssClass),n.extraClass=f.cssClass),f.allowHtmlContentInBody?o.find(".modal-message").html(f.bodyContent):o.find(".modal-message").text(f.bodyContent),f.checkboxAgreementRequired?(r(c),o.find(".modal-checkbox.checkbox > input").prop("checked",!1),o.find(".modal-checkbox.checkbox > label").text(f.checkboxAgreementText),o.find(".modal-checkbox.checkbox").show()):(o.find(".modal-checkbox.checkbox > input").prop("checked",!0),o.find(".modal-checkbox.checkbox").hide()),$.trim(f.footerText)==""?o.find(".modal-footer").hide():o.find(".modal-footer").show(),f.allowHtmlContentInFooter?o.find(".modal-footer").html(f.footerText):o.find(".modal-footer").text(f.footerText),o.modal(i),b=$(d+" .modal-header .close"),b.unbind(),b.bind("click",function(){return l(f.onCancel),!1}),f.xToCancel||b.hide(),f.showAccept||c.hide(),f.showDecline||v.hide(),$("#rbx-body").addClass("modal-mask"),f.onOpenCallback()}function r(n){n.hasClass(s)?n.addClass(f):n.hasClass(v)?n.addClass(o):n.hasClass(h)&&n.addClass(c)}function p(n){return n.hasClass(c)||n.hasClass(f)||n.hasClass(o)?!0:!1}function rt(){var n=$(u),t=$(e);r(n),r(t)}function y(n){n.hasClass(f)?(n.removeClass(f),n.addClass(s)):n.hasClass(o)?(n.removeClass(o),n.addClass(v)):n.hasClass(c)&&(n.removeClass(c),n.addClass(h))}function w(){var n=$(u),t=$(e);y(n),y(t)}function k(){if(n.isOpen){var t=$(u);t.click()}}function b(){var n=$(e);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function l(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}function ut(n,t){var i=$(".modal-body");n?(i.find(".modal-btns").hide(),i.find(".modal-processing").show()):(i.find(".modal-btns").show(),i.find(".modal-processing").hide()),typeof t!="undefined"&&t!==""&&$.modal.close("."+t)}var d=".simplemodal-container",v="btn-primary-md",h="btn-secondary-md",s="btn-control-md",o="btn-primary-md disabled",c="btn-secondary-md disabled",f="btn-control-md disabled",it="btn-none",u=".modal-btns #confirm-btn",e=".modal-btns #decline-btn",tt="#modal-checkbox-input",n={isOpen:!1},i={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:t,focus:!1},a={Yes:"Yes",No:"No",Agree:"Agree"};return{open:g,close:t,disableButtons:rt,enableButtons:w,clickYes:k,clickNo:b,status:n,toggleProcessing:ut,green:v,blue:h,white:s,none:it}}()),$(document).keypress(function(n){Roblox.Dialog.isOpen&&n.which===13&&Roblox.Dialog.clickYes()});

;// common/deviceMeta.js
var Roblox=Roblox||{};Roblox.DeviceMeta=function(){var t=document.querySelector('meta[name="device-meta"]');if(t===null){console.debug("Error loading device information from meta tag - please check if meta tag is present");return}var n=t.dataset||{},i={android:"android",ios:"ios",xbox:"xbox",uwp:"uwp",amazon:"amazon",unknown:"unknown"},r={computer:"computer",tablet:"tablet",phone:"phone",console:"console"};return function(){return{deviceType:r[n.deviceType]||"",appType:i[n.appType]||"",isInApp:n.isInApp==="true",isDesktop:n.isDesktop==="true",isPhone:n.isPhone==="true",isTablet:n.isTablet==="true",isConsole:n.isConsole==="true",isAndroidApp:n.isAndroidApp==="true",isIosApp:n.isIosApp==="true",isUWPApp:n.isUwpApp==="true",isXboxApp:n.isXboxApp==="true",isAmazonApp:n.isAmazonApp==="true",isStudio:n.isStudio==="true"}}}();

;// TosModalCheck.js
function showTosModal(n,t,i,r){Roblox.Dialog.open({titleText:n,bodyContent:t,acceptText:i,onAccept:function(){submitTosAgreement(r)},acceptColor:Roblox.Dialog.blue,fieldValidationRequired:!1,dismissable:!1,xToCancel:!1,declineColor:Roblox.Dialog.none,allowHtmlContentInBody:!0})}function submitTosAgreement(n){$.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",success:function(){}})}$(function(){var n,t,i,r,u="/UserCheck/show-tos",f=$("#TosAgreementInfo").data("terms-check-needed");$.ajax({type:"GET",url:u,data:{isLicensingTermsCheckNeeded:f},contentType:"application/json; charset=utf-8",success:function(u){if(u.PartialViewName){var f=u.IsI18nEnabled&&Roblox.Intl&&new Roblox.Intl,e='<a href="'+u.TermsOfServiceUrl+'" class="text-link" target="_blank">',s=' <a href="'+u.PrivacyUrl+'" class="text-link" target="_blank">',o='<a href="'+u.LegalChangesUrl+'" class="text-link" target="_blank">';u.PartialViewName==="CaptureTosAgreement_v2"?(f?(n=f.f(u.LangResources["Heading.TosHaveChangedTitle"]),t=f.f(u.LangResources["Message.AgreeToTosAndPrivacyBody"],{tosLinkStart:e,tosLinkEnd:"</a>",privacyLinkStart:s,privacyLinkEnd:"</a>",legalChangesLinkStart:o,legalChangesLinkEnd:"</a>"}),i=f.f(u.LangResources["Label.IAgree"])):(n="TERMS OF USE HAVE CHANGED",t='By clicking "I Agree", you are agreeing to the <a href="https://www.roblox.com/info/terms" class="text-link" target="_blank">Terms of Use</a> and <a href="https://www.roblox.com/info/privacy" class="text-link" target="_blank">Privacy Policy</a>. You can learn more about what is changing <a href="https://www.roblox.com/info/latest-changes" class="text-link" target="_blank">here</a>.',i="I AGREE"),r="/UserCheck/update-tos"):u.PartialViewName==="CaptureTosAgreementWithExplicitLicenseClause"&&(f?(n=f.f(u.LangResources["Heading.TosAgreementTitle"]),t=f.f(u.LangResources["Message.TosAgreementBody"],{tosLinkStart:e,tosLinkEnd:"</a>",legalChangesLinkStart:o,legalChangesLinkEnd:"</a>"}),i=f.f(u.LangResources["Label.IAgree"])):(n="TERMS OF USE AGREEMENT",t='By clicking "I Agree", you are agreeing to the <a href="https://www.roblox.com/info/terms" class="text-link" target="_blank">Roblox Terms of Use</a>. This includes the license to Roblox of past and future content you provide to the service for our use online, offline, and in tangible items. You can learn more about what is changing <a href="https://www.roblox.com/info/latest-changes" class="text-link" target="_blank">here</a>.',i="I AGREE"),r="/UserCheck/update-tos-licensing"),showTosModal(n,t,i,r)}},error:function(){}})});

;// AbuseReport/AbuseReportDispatcher.js
var Roblox=Roblox||{};Roblox.AbuseReportDispatcher=function(){var i=!1,n=function(n,t){n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},r=function(t){var i,o;if(typeof t!="string")return!1;t=t.toLowerCase();var s=t.split("?"),f=s[0],r,u=Roblox.AbuseReportPVMeta,h=Roblox.DeviceMeta();if(u.inApp=h.isInApp,f&&typeof f=="string"&&(r=f.split("abusereport/")[1]),r&&(i={actionName:r,id:n("id",t),redirectUrl:n("redirecturl",t)},n("conversationid",t)&&(i.conversationId=n("conversationid",t)),n("partyguid",t)&&(i.partyGuid=n("partyguid",t)),i.id&&i.redirectUrl)){var c=$.param(i),e="abusereport/embedded/"+r+"?"+c,l=Roblox.Endpoints.getAbsoluteUrl("/"+e);u.inApp?u.inAppEnabled?(o={urlPath:e,feature:"Abuse Report"},console.debug("Calling navigateToFeature for Hybrid Overlay"),Roblox.Hybrid.Navigation.navigateToFeature(o,function(n){console.debug("navigateToFeature ---- status:"+n)})):window.location.href=t:window.location.href=u.phoneEnabled?l:t}},t=function(n){n.preventDefault();var t=$(this).attr("href");t&&r(t)},u=function(){if(!i){$(".abuse-report-modal").click(t);$(".messages-container").on("click",".abuse-report-modal",t);$("#AjaxCommentsContainer").on("click",".abuse-report-modal",t);$("#item-context-menu").on("click",".abuse-report-modal",t);$(".GroupWallPane").on("click",".abuse-report-modal",t);$(".group-details-container").on("click",".abuse-report-modal",t);i=!0}};return{triggerUrlAction:r,initialize:u}}(),$(document).ready(function(){Roblox.AbuseReportDispatcher.initialize()});

;//Bundle detector
Roblox && Roblox.BundleDetector && Roblox.BundleDetector.bundleDetected('page');