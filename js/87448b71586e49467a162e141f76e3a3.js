;// bundle: page___a7475c17afb2771fb74a727f21d07f08_m
;// files: ~/Generated/js/Roblox_TranslationResources_Authentication_SignUpResources_en_us_standard.js, FormValidator.js, SignupFormValidatorGeneric.js, Landing/RollerCoaster/RollerCoaster.js, Landing/RollerCoaster/RollercoasterImageLazyLoading.js, Landing/RollerCoaster/LoadImagesOnLoad.js, Landing/RollerCoaster/LoadImagesOnScroll.js, Bootstrap/CaptchaModal.js, Tracking/FormEvents.js, ~/viewapp/common/formEvents/formEvents.js, ~/viewapp/common/formEvents/directives/formInteraction.js, ~/viewapp/common/formEvents/directives/formContext.js, ~/viewapp/common/constants/urlConstants.js, ~/viewapp/common/constants/phoneConstants.js, ~/viewapp/common/services/phoneService.js, ~/viewapp/common/directives/toggleLoadingDirective.js, ~/viewapp/common/components/systemFeedback/systemFeedbackComponent.js, ~/viewapp/widgets/login/login.js, ~/Generated/js/Roblox_TranslationResources_Authentication_LoginResources_en_us_standard.js, ~/viewapp/widgets/login/constants/loginConstants.js, ~/viewapp/widgets/login/services/loginLanguageService.js, ~/viewapp/widgets/login/services/loginService.js, ~/viewapp/widgets/login/controllers/verifyEmailController.js, ~/viewapp/widgets/login/controllers/loginFormController.js, ~/viewapp/widgets/login/components/loginPageComponent.js, ~/viewapp/widgets/login/components/loginFormComponent.js, ~/viewapp/widgets/login/components/horizontalLoginFormComponent.js, Bootstrap/GenericConfirmation.js, Signup/Signup.js, ~/viewapp/common/formEvents/directives/formValidation.js, ~/viewapp/common/formEvents/directives/formValidationRedactInput.js, ~/viewapp/common/constants/userInfoConstants.js, ~/viewapp/widgets/signup/signup.js, ~/viewapp/widgets/signup/constants/signupConstants.js, ~/viewapp/widgets/signup/controllers/signupController.js, ~/viewapp/widgets/signup/directives/showSection.js, ~/viewapp/widgets/signup/directives/validBirthday.js, ~/viewapp/widgets/signup/directives/validPassword.js, ~/viewapp/widgets/signup/directives/validPasswordConfirm.js, ~/viewapp/widgets/signup/directives/validUsername.js, ~/viewapp/widgets/signup/services/displayService.js, ~/viewapp/widgets/signup/services/signupService.js, ~/viewapp/common/services/eventTrackerService.js, EventTracker.js, captcha/constants/captchaConstants.js, captcha/captchaLogger.js, captcha/captchaService.js, ~/viewapp/widgets/captcha/captcha.js, ~/viewapp/widgets/captcha/constants/captchaConstants.js, ~/viewapp/widgets/captcha/directives/captchaDirective.js, ~/viewapp/widgets/captcha/services/captchaInterface.js, captcha/funCaptchaService.js, ~/viewapp/widgets/captcha/services/funCaptchaInterface.js, ~/viewapp/widgets/captcha/directives/funCaptchaDirective.js, common/deviceMeta.js

;// ~/Generated/js/Roblox_TranslationResources_Authentication_SignUpResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Authentication.SignUp"]={"Action.CreateAccount":"Create Account","Action.LogInCapitalized":"Log In","Action.ReturnHome":"Return Home","Action.SignUp":"Sign up","Action.SignupAndSync":"Sign Up & Sync","Action.Submit":"Submit","Description.AccountLinkingWarning":"To link to an existing Roblox account, sign in and link them on the account settings page.","Description.NoRealName":"Do not use your real name.","Description.PrivacyPolicy":"Privacy Policy","Description.SignUpAgreement":"By clicking {spanStart}Sign Up{spanEnd}, you are agreeing to the {termsOfUseLink} and {privacyPolicyLink}","Description.TermsOfService":"Terms of Service","GuestSignUpAB.Action.SignUp":"Sign Up","Heading.ConnectFacebook":"Connect to Facebook","Heading.CreateAnAccount":"CREATE AN ACCOUNT","Heading.FacebookSignupAlmostDone":"{firstname}, YOU'RE ALMOST DONE","Heading.LoginHaveFun":"Log in and start having fun!","Heading.SignupHaveFun":"Sign up and start having fun!","Label.About":"About","Label.AlreadyRegistered":"Already registered?","Label.Birthday":"Birthday","Label.BirthdayWithColumn":"Birthday:","Label.ConfirmPassword":"Confirm password","Label.Day":"Day","Label.DesiredUsername":"Desired Username:","Label.FacebookNotLinked":"Your Facebook account is not linked to any Roblox account. Please sign up for a Roblox account.","Label.FacebookSignupUsername":"Create Roblox username:","Label.Female":"Female","Label.Gender":"Gender","Label.GenderRequired":"Gender is required.","Label.GenderWithColumn":"Gender:","Label.Male":"Male","Label.Month":"Month","Label.Password":"Password","Label.PasswordRequirements":"Password (min length 8)","Label.Platforms":"Platforms","Label.Play":"Play","Label.PleaseAgreeToTerms":"Please agree to our Terms of Use and Privacy Policy.","Label.Required":"Required","Label.SignupButtonText":"Sign Up and Play!","Label.TermsOfUse":"Terms of Use","Label.Username":"Username","Label.UsernameCharacterLimit":"3-20 alphanumeric characters, no spaces.","Label.UsernameHint":"Username (don't use your real name)","Label.UsernameRequirements":"Username (length 3-20, _ is allowed)","Label.Year":"Year","Message.Password.MinLength":"Min length 8","Message.Username.NoRealNameUse":"Don't use your real name","Response.BadUsername":"Username not appropriate for Roblox.","Response.BirthdayInvalid":"This birthday is invalid.","Response.BirthdayMustBeSetFirst":"Birthday must be set first.","Response.CaptchaMismatchError":"Words do not match.","Response.CaptchaNotEnteredError":"Please fill out the Captcha","Response.FacebookConnectionError":"Error while retrieving values from Facebook.","Response.FacebookLoginAge":"Facebook login can only be used by users above 13.","Response.InvalidBirthday":"Invalid birthday.","Response.InvalidEmail":"Invalid email address.","Response.JavaScriptRequired":"JavaScript is required to submit this form.","Response.PasswordComplexity":"Please create a more complex password.","Response.PasswordConfirmation":"Please enter a password confirmation.","Response.PasswordContainsUsernameError":"Password shouldn't match username.","Response.PasswordMismatch":"Passwords do not match.","Response.PasswordWrongShort":"Passwords must be at least 8 characters long.","Response.PleaseEnterPassword":"Please enter a password.","Response.PleaseEnterUsername":"Please enter a username.","Response.SocialAccountCreationFailed":"Account creation failed","Response.SpaceOrSpecialCharaterError":"Spaces and special characters are not allowed.","Response.TooManyAccountsWithSameEmailError":"Too many accounts use this email.","Response.UnknownError":"Sorry! An unknown error occurred. Please try again later.","Response.UsernameAllowedCharactersError":"Usernames may only contain letters, numbers, and _.","Response.UsernameAlreadyInUse":"This username is already in use.","Response.UsernameInvalid":"Please enter a valid username.","Response.UsernameInvalidCharacters":"Only a-z, A-Z, 0-9 and _ are allowed.","Response.UsernameInvalidLength":"Usernames can be 3 to 20 characters long.","Response.UsernameInvalidUnderscore":"Usernames cannot start or end with _.","Response.UsernameOrPasswordIncorrect":"Your username or password is incorrect.","Response.UsernamePasswordRequired":"Username and Password are required.","Response.UsernamePrivateInfo":"Username might contain private information.","Response.UsernameRequired":"Username is required.","Response.UsernameTakenTryAgain":"This username is already taken! Please try a different one.","Response.UsernameTooManyUnderscores":"Usernames can have at most one _."},Roblox.Lang.SignUpResources=Roblox.Lang["Authentication.SignUp"];

;// FormValidator.js
typeof Roblox=="undefined"&&(Roblox={}),Roblox.FormValidator=function(){function n(n){var i=$(n).data("regex"),r=$(n).val();return t(r,i)}function t(n,t){if(typeof n=="undefined"||typeof t=="undefined")return!1;var i=new RegExp(t,"i");return i.test(n)}return{validateElementRegex:n}}();

;// SignupFormValidatorGeneric.js
var intl,langResources;typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Resources=="undefined"&&(Roblox.Resources={}),typeof Roblox.Resources.AnimatedSignupFormValidator=="undefined"&&(intl=Roblox.I18nData&&Roblox.I18nData.isI18nEnabledOnLanding&&Roblox.Lang&&Roblox.Lang.SignUpResources&&Roblox.Intl&&new Roblox.Intl,intl?(langResources=Roblox.Lang.SignUpResources,Roblox.Resources.AnimatedSignupFormValidator={maxValid:intl.f(langResources["Response.TooManyAccountsWithSameEmailError"]),invalidEmail:intl.f(langResources["Response.InvalidEmail"]),invalidBirthday:intl.f(langResources["Response.InvalidBirthday"]),loginFieldsRequired:intl.f(langResources["Response.UsernamePasswordRequired"]),loginFieldsIncorrect:intl.f(langResources["Response.UsernameOrPasswordIncorrect"]),doesntMatch:intl.f(langResources["Response.PasswordMismatch"]),passwordIsUsername:intl.f(langResources["Response.PasswordContainsUsernameError"]),requiredField:intl.f(langResources["Label.Required"]),tooShort:intl.f(langResources["Response.PasswordWrongShort"]),weakKey:intl.f(langResources["Response.PasswordComplexity"]),invalidCharacters:intl.f(langResources["Response.SpaceOrSpecialCharaterError"]),invalidName:intl.f(langResources["Response.UsernameAllowedCharactersError"]),cantBeUsed:intl.f(langResources["Response.BadUsername"]),cantBeUsedPii:intl.f(langResources["Response.UsernamePrivateInfo"]),alreadyTaken:intl.f(langResources["Response.UsernameAlreadyInUse"]),userNameInvalidLength:intl.f(langResources["Response.UsernameInvalidLength"]),startsOrEndsWithUnderscore:intl.f(langResources["Response.UsernameInvalidUnderscore"]),moreThanOneUnderscore:intl.f(langResources["Response.UsernameTooManyUnderscores"]),birthdayRequired:intl.f(langResources["Response.BirthdayMustBeSetFirst"]),passwordRequired:intl.f(langResources["Response.PleaseEnterPassword"]),usernameRequired:intl.f(langResources["Response.PleaseEnterUsername"]),passwordConfirmationRequired:intl.f(langResources["Response.PasswordConfirmation"]),usernameNoRealNameUse:intl.f(langResources["Message.Username.NoRealNameUse"]),passwordMinLength:intl.f(langResources["Message.Password.MinLength"])}):Roblox.Resources.AnimatedSignupFormValidator={maxValid:"Too many accounts use this email.",invalidEmail:"Invalid email address.",invalidBirthday:"Invalid birthday.",loginFieldsRequired:"Username and Password are required.",loginFieldsIncorrect:"Your username or password is incorrect.",doesntMatch:"Passwords do not match.",passwordIsUsername:"Password shouldn't match username.",requiredField:"Required",tooShort:"Passwords must be at least 8 characters long.",weakKey:"Please create a more complex password.",invalidCharacters:"Spaces and special characters are not allowed.",invalidName:"Usernames may only contain letters, numbers, and _.",cantBeUsed:"Username not appropriate for Roblox.",cantBeUsedPii:"Username might contain private information.",alreadyTaken:"This username is already in use.",userNameInvalidLength:"Usernames can be 3 to 20 characters long.",startsOrEndsWithUnderscore:"Usernames cannot start or end with _.",moreThanOneUnderscore:"Usernames can have at most one _.",birthdayRequired:"Birthday must be set first.",passwordRequired:"Please enter a password.",usernameRequired:"Please enter a username.",passwordConfirmationRequired:"Please enter a password confirmation.",usernameNoRealNameUse:"Don't use your real name",passwordMinLength:"Min length 8"}),Roblox.SignupFormValidatorGeneric=function(){function t(n){var t=n.match(/<[a-z][\s\S]*>/i);return t&&t.length>0}function p(n,t,i){return i<=0||n<=0||t<=0||t>new Date(i,n,0).getDate()}function y(n,t,i){return i!=0&&n!=0&&t!=0}function v(n,t){return $(n).length!=0||$(t).length!=0}function u(n){return n.length>20}function f(n){return n.length<3}function e(n){n=n.trim();var t=n.length;if(n[0]=="_"||n[t-1]=="_")return!0}function n(n){return n.split("_").length>2}function s(n){var t=n.indexOf(" ")!=-1,i=/^[a-zA-Z0-9_]*$/;return t=t||!n.match(i)}function w(n,t){$.get("/UserCheck/checkifinvalidusernameforsignup",{username:n}).done(function(n){var i=l[n.data]||"";t(n.data===0,i,n.data)}).fail(function(){t(!1,"",-1)})}function c(n,t){return n===t}function o(n){return n.length<8}function r(n,t){return n==t}function i(n){var i=["roblox123","password","password1","password12","password123","trustno1","iloveyou","princess","abcd1234","qwertyui","qwerty","football","baseball","michael","jennifer","michelle","babygirl","superman","12345678","123456789","1234567890","123123123","69696969","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999","00000000"],t;for(n=n.toLowerCase(),t=0;t<i.length;t++)if(n===i[t])return!0;return/^[\s]*$/.test(n)?!0:!1}function h(n){return t(n)?Roblox.Resources.AnimatedSignupFormValidator.invalidEmail:""}function a(i){return f(i)||u(i)?Roblox.Resources.AnimatedSignupFormValidator.userNameInvalidLength:e(i)?Roblox.Resources.AnimatedSignupFormValidator.startsOrEndsWithUnderscore:n(i)?Roblox.Resources.AnimatedSignupFormValidator.moreThanOneUnderscore:t(i)?Roblox.Resources.AnimatedSignupFormValidator.invalidName:s(i)?Roblox.Resources.AnimatedSignupFormValidator.invalidName:""}function b(n,t){return o(n)?Roblox.Resources.AnimatedSignupFormValidator.tooShort:r(n,t)?Roblox.Resources.AnimatedSignupFormValidator.passwordIsUsername:i(n)?Roblox.Resources.AnimatedSignupFormValidator.weakKey:""}var l={1:Roblox.Resources.AnimatedSignupFormValidator.alreadyTaken,2:Roblox.Resources.AnimatedSignupFormValidator.cantBeUsed};return{invalidBirthday:p,selectedBirthday:y,genderSelected:v,usernameTooLong:u,usernameTooShort:f,usernameRegexInvalid:s,usernameStartsOrEndsWithUnderscore:e,usernameHasMoreThanOneUnderscore:n,getInvalidUsernameMessage:a,getInvalidEmailMessage:h,checkIfUsernameInvalid:w,passwordIsUsername:r,passwordsMatch:c,weakPassword:i,passwordTooShort:o,getInvalidPasswordMessage:b}}();

;// Landing/RollerCoaster/RollerCoaster.js
function MoveMagicLine(n){"use strict";var t=$("#magic-line");if(t.length!=0&&(!t.is(":animated")||n)){var i=0,r=0,u=$(document).scrollTop();if(u<$("#WhatsRobloxContainer").offset().top-$(".navbar-landing").height()){if(i=$("#PlayLink").position().left,r=$("#PlayLink").width(),t.data("curtab")==1&&!n)return;t.data("curtab",1)}else if(u<$("#RobloxDeviceText").offset().top-$(".navbar-landing").height()){if(i=$("#AboutLink").position().left,r=$("#AboutLink").width(),t.data("curtab")==2&&!n)return;t.data("curtab",2),Roblox.EventStream&&(Roblox.AboutLink.aboutLinkSeenTimes++,Roblox.EventStream.SendEvent("navigatedToAboutLink","aboutLinkSeen"+Roblox.AboutLink.aboutLinkSeenTimes+"times",{}))}else{if(i=$("#PlatformLink").position().left,r=$("#PlatformLink").width(),t.data("curtab")==3&&!n)return;t.data("curtab",3)}t.animate({queue:"link-magic-line",left:i,width:r})}}function scrollTo(n,t){"use strict";var f=$("#magic-line"),i=0,r=0,u;switch(n){case 1:i=$("#PlayLink").position().left,r=$("#PlayLink").width();break;case 2:i=$("#AboutLink").position().left,r=$("#AboutLink").width();break;case 3:i=$("#PlatformLink").position().left,r=$("#PlatformLink").width()}return f.animate({left:i,width:r}),u=$(t).offset().top,$("html, body").animate({scrollTop:u},600),!1}Roblox.AboutLink={},Roblox.AboutLink.aboutLinkSeenTimes=0,$(function(){var t=300,n;$("[autofocus]:not(:focus)").eq(0).focus(),n=!1;$(window).on("scroll touchmove",function(){var t=$(window).scrollTop(),i=t>75||n?.85:.35+t/150;$(".navbar-landing").css("background-color","rgba(0,0,0,"+i+")")});$(window).on("resize",function(){MoveMagicLine(!0)});setInterval(MoveMagicLine,400);$("body").on("show.bs.collapse","#LandingNavbar",function(){$(".navbar-landing").css("background-color","rgba(0,0,0,0.85)"),n=!0,$("#MobileNavLinks").slideUp(t)});$("body").on("hide.bs.collapse","#LandingNavbar",function(){n=!1});Roblox.Signup.init({onSignupSuccess:function(){var n=$("#SignUpFormContainer").data("return-url");typeof n=="string"&&n.length>0?(n+=n.indexOf("?")===-1?"?":"&",n+="nu=true",window.location.href=n):window.location.href="/games?nu=true"}});$("body").on("click","#menu-toggle",function(){$("#MobileNavLinks").slideToggle(t),$("#MobileNavLinks").css("display")==="block"&&n&&$("#LandingNavbar").collapse("hide")});$("body").on("click","#MobileNavLinks li",function(){$("#MobileNavLinks").slideUp(t)})});

;// Landing/RollerCoaster/RollercoasterImageLazyLoading.js
var Roblox=Roblox||{};Roblox.RollercoasterLazyLoading=function(){function t(){n||($("#InnerWhatsRobloxContainer1").addClass("whats-roblox-container"),$("#GameImage1").addClass("game-image-1"),$("#GameImage2").addClass("game-image-2"),$("#GameImage3").addClass("game-image-3"),n=!0)}var n=!1;return{addClassesToImages:t}}();

;// Landing/RollerCoaster/LoadImagesOnLoad.js
Roblox.RollercoasterLazyLoading.LoadImagesOnLoad=function(){$(window).on("load",function(){Roblox.RollercoasterLazyLoading.addClassesToImages()})}();

;// Landing/RollerCoaster/LoadImagesOnScroll.js
Roblox.RollercoasterLazyLoading.LoadImagesOnScroll=function(){$(window).one("scroll touchmove",function(){Roblox.RollercoasterLazyLoading.addClassesToImages()})}();

;// Bootstrap/CaptchaModal.js
Roblox=Roblox||{},Roblox.Bootstrap=Roblox.Bootstrap||{},Roblox.Resources=Roblox.Resources||{},Roblox.Resources.CaptchaModal={title:"Are you human?",message:"To finish, please verify that you are human.",captchaEmptyMessage:"The CAPTCHA field should not be empty, please fill it.",captchaErrorMessage:"The CAPTCHA you entered is invalid. Please try again.",finish:"Finish"},Roblox.Bootstrap.CaptchaModal=function(){"use strict";function t(t){function r(){i.hide(),i.appendTo(t)}function u(){Roblox.Bootstrap.GenericConfirmation.disableButtons(),i.hide(),i.appendTo(t),i.removeClass("roblox-captcha-modal"),t.submit()}function f(){var n=$("#BootstrapConfirmationModal"),t;n.find("#roblox-decline-btn").hide(),t=n.find(".modal-body"),i.appendTo(t),i.show()}var i=t.find(n),e=t.find(n).data("captcha-valid");if(typeof Roblox.Bootstrap.GenericConfirmation=="undefined"){i.remove(),t.submit();return}Roblox.Bootstrap.GenericConfirmation.open({titleText:Roblox.Resources.CaptchaModal.title,bodyContent:Roblox.Resources.CaptchaModal.message,acceptText:Roblox.Resources.CaptchaModal.finish,acceptColor:Roblox.Bootstrap.GenericConfirmation.green,allowHtmlContentInBody:!0,dismissable:!0,xToCancel:!0,isCaptchaValid:e=="False"?!1:!0,captchaErrorMessage:Roblox.Resources.CaptchaModal.captchaErrorMessage,onAccept:u,onCancel:r,onOpenCallback:f})}function i(t){return t.find(n).length!=0}function r(n){return!n.hasClass("ng-invalid")}var n=".roblox-captcha-modal";return{Create:t,FormNeedsCaptcha:i,FormIsValid:r}}(),$(function(){"use strict";$("form").submit(function(n){var t=$(this);Roblox.Bootstrap.CaptchaModal.FormNeedsCaptcha(t)&&Roblox.Bootstrap.CaptchaModal.FormIsValid(t)&&(n.preventDefault(),Roblox.Bootstrap.CaptchaModal.Create(t))})});

;// Tracking/FormEvents.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.FormEvents=="undefined"&&(Roblox.FormEvents=function(){function n(n,t,i){Roblox.EventStream&&Roblox.EventStream.SendEvent(n,t,i)}function t(t,i,r,u){var f={msg:u,input:r,field:i,vis:!0};n("formValidation",t,f)}function i(t,i){var r={aType:"focus",field:i};n("formInteraction",t,r)}function r(t,i,r){var u={aType:"offFocus",field:i};r&&(u.input=r),n("formInteraction",t,u)}function u(t,i){var r={aType:"click",field:i};n("formInteraction",t,r)}return{SendValidationFailed:t,SendInteractionFocus:i,SendInteractionOffFocus:r,SendInteractionClick:u}}());

;// ~/viewapp/common/formEvents/formEvents.js
"use strict";var formEvents=angular.module("roblox.formEvents",[]);

;// ~/viewapp/common/formEvents/directives/formInteraction.js
"use strict";formEvents.directive("rbxFormInteraction",function(){return{require:"^form",restrict:"A",link:function(n,t,i,r){var u=i.sendInputValue;t.bind("blur",function(){if(Roblox.FormEvents){var n=angular.element(this),t;u&&(t=n.val()),Roblox.FormEvents.SendInteractionOffFocus(r.context,n.attr("name"),t)}}).bind("focus",function(){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionFocus(r.context,angular.element(this).attr("name"))})}}});

;// ~/viewapp/common/formEvents/directives/formContext.js
"use strict";formEvents.directive("rbxFormContext",function(){return{require:"form",restrict:"A",link:function(n,t,i,r){var u=r.$name;r.context=i.context+u.charAt(0).toUpperCase()+u.substr(1)}}});

;// ~/viewapp/common/constants/urlConstants.js
robloxApp.constant("urlConstants",{urlQueryStringPrefix:"?",urlQueryParameterSeparator:"&",hashSign:"#"});

;// ~/viewapp/common/constants/phoneConstants.js
robloxApp.constant("phoneConstants",{templates:{verifyPhoneModal:"verify-phone-modal"},urls:{phonePrefixes:"/v1/countries/phone-prefix-list",addPhone:"/account/settings/phone",verifyPhone:"/account/settings/phone/verify",resendCode:"/account/settings/phone/resend"},modalTypes:{addPhone:"addPhone",verifyPhone:"verifyPhone"},minimumPhoneLength:4,underscore:"_",phonePrefixCharacter:"+",defaultCountryCode:"US",unitedStatesPrefix:{name:"United States",localizedName:"United States",code:"US",prefix:1}});

;// ~/viewapp/common/services/phoneService.js
robloxApp.factory("phoneService",["$q","httpService","phoneConstants",function(n,t,i){function f(n){var i=n+r,f={url:i};return t.httpGet(f,null).then(function(n){var t;return _.reject(n,function(n){return n.code===u?(t=n,!0):!1}),t&&n.unshift(t),n})}function e(n){var r=i.urls.addPhone,u={url:r},f={countryCode:n.countryCode,prefix:n.prefix,phone:n.phone,password:n.password};return t.httpPost(u,f)}function o(n){var r=i.urls.verifyPhone,u={url:r},f={code:n.code};return t.httpPost(u,f)}function s(){var n=i.urls.resendCode,r={url:n};return t.httpPost(r)}function h(n){return!n||n.length<i.minimumPhoneLength?!1:/\d/.test(n)?/^[\d|\W|_]+$/.test(n):!1}var r=i.urls.phonePrefixes,u=i.defaultCountryCode;return{getPhonePrefixes:f,addPhone:e,verifyPhone:o,resendCode:s,isPhoneNumber:h}}]);

;// ~/viewapp/common/directives/toggleLoadingDirective.js
"use strict";robloxApp.directive("toggleLoading",[function(){return{restrict:"A",link:function(n,t,i){var f=i.isInline,e='<div class="spinner spinner-sm spinner-no-margin'+(f?"":" spinner-block")+'"></div>',r=angular.element(e),u;t.after(r),r.hide(),u=n.$watch(i.isLoading,function(n,i){if(n!==i)if(n){var u=t[0].offsetHeight,f=t[0].offsetWidth;r.css("height",u+"px"),r.css("width",f+"px"),t.hide(),r.show()}else t.show(),r.hide()},!0),n.$on("$destroy",function(){u&&u()})}}}]);

;// ~/viewapp/common/components/systemFeedback/systemFeedbackComponent.js
"use strict";robloxApp.component("systemFeedback",{templateUrl:"system-feedback",bindings:{bannerText:"<",showErrorBanner:"<"},controller:function(){var n=this;n.closeErrorBanner=function(){n.showErrorBanner=!1}}});

;// ~/viewapp/widgets/login/login.js
"use strict";var login=angular.module("login",["captcha","roblox.formEvents","modal"]).config(["languageResourceProvider",function(n){n.setLanguageKeysFromFile(Roblox.Lang.LoginResources)}]);angular.element(function(){angular.bootstrap("#login-container",["robloxApp","login"])});

;// ~/Generated/js/Roblox_TranslationResources_Authentication_LoginResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Authentication.Login"]={"Action.Cancel":"Cancel","Action.Facebook":"Facebook","Action.ForgotPasswordOrUsernameQuestion":"Forgot password or username?","Action.ForgotPasswordOrUsernameQuestionCapitalized":"Forgot Password or Username?","Action.Login":"Login","Action.LogInCapitalized":"Log In","Action.Ok":"OK","Action.PlayAsGuest":"Play as Guest","Action.Resend":"Resend","Action.ResendEmail":"Resend Email","Action.SendVerificationEmail":"Send Verification Email","Action.SignIn":"Sign In","Action.SignInWithFacebook":"Sign In with Facebook","Action.SignUp":"Sign up","Action.SignUpCapitalized":"Sign Up","Heading.Login":"Login","Heading.LoginRoblox":"Login to Roblox","Heading.SignUpMakeFriends":"Sign Up to Build & Make Friends","Label.AccountNotNeeded":"You don't need an account to play Roblox","Label.EmailNeedsVerification":"Your email needs verification","Label.FacebookCreatePasswordWarning":"If you have been signing in with Facebook, you must set a password.","Label.ForgotUsernamePassword":"Forgot Username/Password?","Label.GreetingForNewAccount":"Nice to meet you, {username}. {linkStartSignup}Let's make an account! {linkEndSignup}","Label.LearnMore":"Learn more","Label.LoggingInSpinnerText":"Logging in…","Label.Login":"Log in","Label.LoginWithYour":"login with your","Label.NoAccount":"Don't have an account?","Label.NonAMemberQuestion":"Not a member?","Label.NotReceived":"Didn't receive it?","Label.Or":"Or","Label.Password":"Password","Label.PasswordWithColumn":"Password:","Label.StartPlaying":"You can start playing right now, in guest mode!","Label.UnverifiedEmailInstructions":"To log in with your email, it must be verified. You can also log in with your username.","Label.Username":"Username","Label.UsernameEmail":"Username/Email","Label.UsernameEmailPhone":"Username/Email/Phone","Label.UsernamePhone":"Username/Phone","Label.UsernameWithColumn":"Username:","Label.VerificationEmailSent":"Verification Email Sent!","Message.UnknownErrorTryAgain":"An unknown error occurred. Please try again.","Message.UsernameAndPasswordRequired":"Username and password required","Response.AccountIssueErrorContactSupport":"Account issue. Please contact Support.","Response.AccountLockedRequestReset":"Account has been locked. Please request a password reset.","Response.AccountNotFound":"Account not found. Please try again.","Response.EmailLinkedToMultipleAccountsLoginWithUsername":"Your email is associated with more than 1 username. Please login with your username.","Response.EmailSent":"Email sent!","Response.IncorrectEmailOrPassword":"Incorrect email or password.","Response.IncorrectPhoneOrPassword":"Incorrect phone or password.","Response.IncorrectUsernamePassword":"Incorrect username or password.","Response.LoginWithUsername":"Something went wrong. Please login with your username.","Response.PasswordNotProvided":"You must enter a password.","Response.TooManyAttemptsPleaseWait":"Too many attempts. Please wait a bit.","Response.UnknownError":"Unknown Error","Response.UnknownLoginError":"Unknown login failure.","Response.UnverifiedEmailLoginWithUsername":"Your email is not verified. Please login with your username.","Response.UnverifiedPhoneLoginWithUsername":"Your phone is not verified. Please login with your username.","Response.UsernameNotProvided":"You must enter a username.","Response.UseSocialSignOn":"Unable to login. Please use Social Network sign on."},Roblox.Lang.LoginResources=Roblox.Lang["Authentication.Login"];

;// ~/viewapp/widgets/login/constants/loginConstants.js
"use strict";login.constant("loginConstants",{urls:{login:"/v1/login",loginV2:"/v2/login",twoStepVerification:"/login/twostepverification",credentialsVerification:"/v2/credentials/verification",credentialsVerificationSend:"/v2/credentials/verification/send"},templates:{verifyEmail:"verify-email"},controllers:{verifyEmail:"verifyEmailController"},errorCodes:{unknownError:0,badCredentials:1,captcha:2,accountNotFound:3,passwordResetRequired:4,noPassword:5,accountIssue:6,tooManyAttempts:7,defaultLoginRequired:9,unverifiedCredentials:10},sendVerificationEmailErrorCodes:{tooManyAttempts:2},statusCodes:{flooded:429},credentialTypes:{username:"Username",email:"Email",phone:"PhoneNumber"},newLoginQueryString:"nl=true",loginSubmitButtonName:"loginSubmit",fbLoginButtonName:"fbLoginSubmit",landingContext:"landing",atSymbol:"@",verifyEmailContextSuffix:"_verifyEmail"});

;// ~/viewapp/widgets/login/services/loginLanguageService.js
"use strict";login.factory("loginLanguageService",["languageResource",function(n){var t=n;return{usernamePlaceholder:t.get("Label.Username"),usernameEmailPlaceholder:t.get("Label.UsernameEmail"),usernamePhonePlaceholder:t.get("Label.UsernamePhone"),usernameEmailPhonePlaceholder:t.get("Label.UsernameEmailPhone"),usernameAndPasswordRequired:t.get("Message.UsernameAndPasswordRequired"),incorrectUsernamePassword:t.get("Response.IncorrectUsernamePassword"),incorrectEmailPassword:t.get("Response.IncorrectEmailOrPassword"),incorrectPhonePassword:t.get("Response.IncorrectPhoneOrPassword"),accountNotFound:t.get("Response.AccountNotFound"),useSocialSignOn:t.get("Response.UseSocialSignOn"),accountIssue:t.get("Response.AccountIssueErrorContactSupport"),tooManyAttempts:t.get("Response.TooManyAttemptsPleaseWait"),unknownError:t.get("Message.UnknownErrorTryAgain"),emailAssociatedWithMultipleAccounts:t.get("Response.EmailLinkedToMultipleAccountsLoginWithUsername"),loginWithUsername:t.get("Response.LoginWithUsername"),unverifiedEmailLoginWithUsername:t.get("Response.UnverifiedEmailLoginWithUsername"),unverifiedPhoneLoginWithUsername:t.get("Response.UnverifiedPhoneLoginWithUsername"),emailNeedsVerification:t.get("Label.EmailNeedsVerification"),unverifiedEmailInstructions:t.get("Label.UnverifiedEmailInstructions"),sendVerificationEmail:t.get("Action.SendVerificationEmail"),verificationEmailSent:t.get("Label.VerificationEmailSent"),didntReceiveIt:t.get("Label.NotReceived"),resendEmail:t.get("Action.ResendEmail"),ok:t.get("Action.Ok")}}]);

;// ~/viewapp/widgets/login/services/loginService.js
"use strict";login.factory("loginService",["httpService","loginConstants",function(n,t){function i(i){var r=Roblox.LoginMeta.apiProxyUrl+t.urls.loginV2,u={url:r};return n.httpPost(u,i,!0)}function r(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.login,u={url:r};return n.httpPost(u,i,!0)}function u(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.credentialsVerification,u={url:r};return n.httpGet(u,i,!0)}function f(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.credentialsVerificationSend,u={url:r};return n.httpPost(u,i,!0)}return{login:i,loginV2:r,canVerifyCredentials:u,verifyCredentials:f}}]);

;// ~/viewapp/widgets/login/controllers/verifyEmailController.js
"use strict";login.controller("verifyEmailController",["$scope","eventStreamService","loginLanguageService","loginService","loginConstants","injectedData",function(n,t,i,r,u,f){n.layout={labels:i},n.init=function(){n.layout.headerText=i.emailNeedsVerification,t.sendModalShownEvent(f.context+u.verifyEmailContextSuffix)},n.sendVerificationEmail=function(){n.layout.error=null,n.layout.isSubmitBusy=!0;var t={credentialType:u.credentialTypes.email,credentialValue:f.email,password:f.password};r.verifyCredentials(t).then(function(){n.layout.headerText=i.verificationEmailSent,n.layout.emailSent=!0,n.sendSendVerificationEmailEvent(!0)},function(t){var r=t&&t.data&&t.data.errors&&t.data.errors.length>0&&t.data.errors[0].code;switch(r){case u.sendVerificationEmailErrorCodes.tooManyAttempts:n.layout.error=i.tooManyAttempts;break;default:n.layout.error=i.unknownError}n.sendSendVerificationEmailEvent(!1)}).finally(function(){n.layout.isSubmitBusy=!1})},n.sendSendVerificationEmailEvent=function(n,i){t.sendEventWithTarget(t.eventNames.account.sendVerificationEmail,f.context+u.verifyEmailContextSuffix,{success:n,msg:i})},n.init()}]);

;// ~/viewapp/widgets/login/controllers/loginFormController.js
"use strict";login.controller("loginFormController",["$window","$uibModal","urlService","phoneService","loginLanguageService","loginService","captchaInterface","loginConstants","urlConstants",function(n,t,i,r,u,f,e,o,s){var h=this;h.data={},h.$onInit=function(){h.usePrimaryButtonClass=h.params.Context&&h.params.Context.toLowerCase().indexOf(o.landingContext)>-1,h.isProcessing=!1,h.params.RedirectToLoginPageOnError?h.credentialValue=null:(h.credentialValue=h.params.Username,h.setEnteredCredentialType(h.params.CType),h.error=h.params.ErrorCode?h.getErrorMessage(parseInt(h.params.ErrorCode,10)):null),h.captchaSetting={id:h.params.CaptchaId||e.ids.login,isActivated:!1,captchaType:e.types.login,successCB:null,errorCB:null}},Roblox.LoginMeta&&angular.extend(h.data,{forgotCredentialsUrl:Roblox.LoginMeta.forgotCredentialsUrl,homeUrl:Roblox.LoginMeta.homeUrl,fbSignInUrl:Roblox.LoginMeta.fbSignInUrl,securityNotificationUrl:Roblox.LoginMeta.securityNotificationUrl,loginPageUrl:Roblox.LoginMeta.loginPageUrl,isLoginWithEmailEnabled:Roblox.LoginMeta.isLoginWithEmailEnabled,isLoginWithPhoneEnabled:Roblox.LoginMeta.isLoginWithPhoneEnabled,isPromptUnverifiedEmailsEnabled:Roblox.LoginMeta.isPromptUnverifiedEmailsEnabled}),h.setEnteredCredentialType=function(n){if(n){h.data.enteredCredentialType=n;return}if(h.isEmail(h.credentialValue)){h.data.enteredCredentialType=o.credentialTypes.email;return}if(r.isPhoneNumber(h.credentialValue)){h.data.enteredCredentialType=o.credentialTypes.phone;return}h.data.enteredCredentialType=o.credentialTypes.username},h.submit=function(n){if(h.clearError(),!h.credentialValue||!h.password){h.params.RedirectToLoginPageOnError||(h.error=u.usernameAndPasswordRequired);return}if(n&&h.sendInteractionClickEvent(o.loginSubmitButtonName),h.isProcessing=!0,h.data.enteredCredentialType=o.credentialTypes.username,h.data.isLoginWithEmailEnabled||h.data.isLoginWithPhoneEnabled){h.submitEmailOrPhoneLogin();return}h.submitUsernameLogin()},h.submitUsernameLogin=function(){var t={username:h.credentialValue,password:h.password};f.login(t).then(function(t){var i=t.data;h.params.SamlRequest?h.handleSamlRequest(i):n.location.href=h.getRedirectUrl(i)},function(n){h.handleLoginError(n.data,n.status)})},h.submitEmailOrPhoneLogin=function(){var t=h.isEmail(h.credentialValue),i=r.isPhoneNumber(h.credentialValue),u;h.data.isLoginWithEmailEnabled&&!h.data.isDefaultLoginRequired&&t&&(h.data.enteredCredentialType=o.credentialTypes.email),h.data.isLoginWithPhoneEnabled&&!h.data.isDefaultLoginRequired&&i&&(h.data.enteredCredentialType=o.credentialTypes.phone),t||i||(h.showErrorBanner=!1),u={cvalue:h.credentialValue,ctype:h.data.enteredCredentialType,password:h.password},f.loginV2(u).then(function(t){var i=t.data;h.params.SamlRequest?h.handleSamlRequest(i):n.location.href=h.getRedirectUrl(i)},function(n){h.handleLoginError(n.data,n.status)})},h.handleLoginError=function(n,t){var i,r;if(t===o.statusCodes.flooded){h.activateCaptcha(),h.isProcessing=!1;return}i=n&&n.errors&&n.errors.length>0&&n.errors[0].code;switch(i){case o.errorCodes.captcha:h.activateCaptcha(),h.isProcessing=!1;return;case o.errorCodes.passwordResetRequired:h.navigateToSecurityNotificationPage();return}h.data.isPromptUnverifiedEmailsEnabled&&i===o.errorCodes.unverifiedCredentials&&h.data.enteredCredentialType===o.credentialTypes.email?(r={credentialType:o.credentialTypes.email,credentialValue:h.credentialValue,password:h.password},f.canVerifyCredentials(r).then(function(n){n&&n.data&&n.data.canSend?(h.promptUserToVerifyEmail(),h.isProcessing=!1):h.setErrorMessage(i)},function(){h.setErrorMessage(i)})):h.setErrorMessage(i)},h.promptUserToVerifyEmail=function(){t.open({backdrop:"static",templateUrl:o.templates.verifyEmail,controller:o.controllers.verifyEmail,resolve:{injectedData:{context:h.params.Context,email:h.credentialValue,password:h.password}}}).result.then(angular.noop,angular.noop)},h.setErrorMessage=function(t){var r=t===o.errorCodes.defaultLoginRequired||t===o.errorCodes.unverifiedCredentials,i;if(h.params.RedirectToLoginPageOnError||h.params.RedirectToLoginPageWhenUsernameIsRequired&&r){i={errorCode:t,ctype:h.data.enteredCredentialType},r||(i.username=h.credentialValue),n.location.href=h.data.loginPageUrl+s.urlQueryStringPrefix+$.param(i);return}h.isProcessing=!1,h.error=h.getErrorMessage(t)},h.getErrorMessage=function(n){var t,i;switch(n){case o.errorCodes.badCredentials:return h.getInvalidCredentialsErrorMessage();case o.errorCodes.accountNotFound:return u.accountNotFound;case o.errorCodes.noPassword:return u.useSocialSignOn;case o.errorCodes.accountIssue:return u.accountIssue;case o.errorCodes.tooManyAttempts:return u.tooManyAttempts;case o.errorCodes.defaultLoginRequired:return t=h.getDefaultLoginRequiredErrorMessage(),h.handleDefaultLoginRequired(t),null;case o.errorCodes.unverifiedCredentials:return i=h.getUnverifiedCredentialsErrorMessage(),h.handleDefaultLoginRequired(i),null;default:return u.unknownError}},h.activateCaptcha=function(){Roblox.Captcha.setEndpoint(Roblox.Captcha.types.login,h.params.CaptchaApiUrl+"?"+$.param({username:h.credentialValue})),h.captchaSetting.successCB=function(){h.submit()},h.captchaSetting.isActivated=!0},h.navigateToSecurityNotificationPage=function(){n.location.href=h.data.securityNotificationUrl},h.handleSamlRequest=function(n){var t,r=h.credentialValue,u,i;n&&n.tl?t=n.tl:n&&n.twoStepVerificationData&&(t=n.twoStepVerificationData.ticket,r=n.user.name),u=t?o.urls.twoStepVerification+"?"+$.param({username:r,tl:t,returnUrl:h.params.ReturnUrl}):h.params.ReturnUrl,i=h.samlRequestForm.$$element,i.attr("action",u),i[0].submit()},h.getInvalidCredentialsErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.incorrectEmailPassword;case o.credentialTypes.phone:return u.incorrectPhonePassword;default:return u.incorrectUsernamePassword}},h.getDefaultLoginRequiredErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.emailAssociatedWithMultipleAccounts;case o.credentialTypes.phone:return u.loginWithUsername;default:return""}},h.getUnverifiedCredentialsErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.unverifiedEmailLoginWithUsername;case o.credentialTypes.phone:return u.unverifiedPhoneLoginWithUsername;default:return""}},h.handleDefaultLoginRequired=function(n){(h.data.isDefaultLoginRequired=!0,h.credentialValue=null,h.password=null,n)&&(h.bannerErrorMessage=n,h.showErrorBanner=!0)},h.getRedirectUrl=function(n){var r=h.params.ReturnUrl,t,u;return(n&&n.tl?t={username:h.credentialValue,tl:n.tl}:n&&n.twoStepVerificationData&&(t={username:n.user.name,tl:n.twoStepVerificationData.ticket}),t)?(r?t.returnUrl=r:h.params.RedirectToHomePostLogin||(t.returnUrl=h.getCurrentLocation()),i.getAbsoluteUrl(o.urls.twoStepVerification)+s.urlQueryStringPrefix+$.param(t)):n&&(n.userId||n.user&&n.user.id)?r?(u=h.addNewLoginQueryStringToUrl(r),i.getAbsoluteUrl(u)):h.params.RedirectToHomePostLogin?h.data.homeUrl+s.urlQueryStringPrefix+$.param({nl:!0}):h.getCurrentLocation():i.getAbsoluteUrl("/")},h.getCurrentLocation=function(){var t=n.location.href,i=t?t.indexOf(s.hashSign):-1;return i>-1&&(t=t.slice(0,-1*(t.length-i))),h.addNewLoginQueryStringToUrl(t)},h.addNewLoginQueryStringToUrl=function(n){if(!n)return"/";var t=n;return t+=n.indexOf(s.urlQueryStringPrefix)>-1?s.urlQueryParameterSeparator:s.urlQueryStringPrefix,t+=o.newLoginQueryString},h.loginWithFb=function(){h.sendInteractionClickEvent(o.fbLoginButtonName),n.location.href=h.data.fbSignInUrl},h.sendInteractionClickEvent=function(n){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionClick(h.params.Context,n)},h.clearError=function(){h.error=null},h.getCredentialPlaceholder=function(){return h.data.isDefaultLoginRequired?u.usernamePlaceholder:h.data.isLoginWithEmailEnabled&&h.data.isLoginWithPhoneEnabled?u.usernameEmailPhonePlaceholder:h.data.isLoginWithEmailEnabled?u.usernameEmailPlaceholder:h.data.isLoginWithPhoneEnabled?u.usernamePhonePlaceholder:u.usernamePlaceholder},h.isEmail=function(n){return n&&n.indexOf(o.atSymbol)>-1}}]);

;// ~/viewapp/widgets/login/components/loginPageComponent.js
login.component("loginPage",{templateUrl:"login-page",bindings:{params:"<"},controller:["urlConstants",function(n){var t=this;Roblox.LoginMeta&&(t.data={signupUrl:Roblox.LoginMeta.signupUrl}),t.$onInit=function(){var i=t.params.ReturnUrl,r,u;i&&(r={returnUrl:i},u=n.urlQueryStringPrefix+$.param(r),t.data.signupUrl+=u)}}]});

;// ~/viewapp/widgets/login/components/loginFormComponent.js
login.component("loginForm",{templateUrl:"login-form",bindings:{params:"<"},controller:"loginFormController"});

;// ~/viewapp/widgets/login/components/horizontalLoginFormComponent.js
login.component("horizontalLoginForm",{templateUrl:"horizontal-login-form",bindings:{params:"<"},controller:"loginFormController"});

;// Bootstrap/GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),Roblox.Bootstrap=Roblox.Bootstrap||{},typeof Roblox.Bootstrap.GenericConfirmation=="undefined"&&(Roblox.Bootstrap.GenericConfirmation=function(){function ut(f){var k={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:l,declineColor:c,xToCancel:!1,isCaptchaValid:!0,captchaEmptyMessage:Roblox.Resources.CaptchaModal.captchaEmptyMessage,captchaErrorMessage:"",onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},y,p,v,w,b;f=$.extend({},k,f),u.backdrop=f.dismissable?!0:"static",u.keyboard=f.xToCancel,y=$(r),y.text(f.acceptText),y.unbind(),y.bind("click",function(){return o(y)?!1:$(d).val()==""?(v.find(h).text(f.captchaEmptyMessage),!1):(f.fieldValidationRequired?ft(f.onAccept):n(f.onAccept),!1)}),p=$(t),p.html(f.declineText),p.unbind(),p.bind("click",function(){return o(p)?!1:(n(f.onDecline),!1)}),v=$(a),v.find(g).text(f.titleText),f.imageUrl==null||f.imageUrl==""?v.find(e).hide():(v.find(e).attr("src",f.imageUrl),v.show()),f.allowHtmlContentInBody?v.find(s).html(f.bodyContent):v.find(s).text(f.bodyContent),f.isCaptchaValid||v.find(h).text(f.captchaErrorMessage),$.trim(f.footerText)==""?v.find(i).hide():v.find(i).show(),f.allowHtmlContentInFooter?v.find(i).html(f.footerText):v.find(i).text(f.footerText),typeof v.modal=="function"?v.modal(u):v.bootstrapModal(u),w=$("#roblox-close-btn"),w.unbind(),w.bind("click",function(){return n(f.onCancel),!1}),f.xToCancel||w.hide(),b=$("#BootstrapConfirmationModal"),b.off("click"),b.click(function(t){if($(t.target).closest(".modal-content").length==0)return n(f.onCancel()),!1}),$(document).keyup(function(t){if(t.keyCode==27)return n(f.onCancel),!1}),typeof v.modal=="function"?v.modal("show"):v.bootstrapModal("show"),f.onOpenCallback()}function v(n){n.attr("disabled",!0)}function o(n){return n.attr("disabled")==!0}function y(){var n=$(r),i=$(t);v(n),v(i)}function p(){var u=$(r),i=$(t),n=it+" "+tt+" "+rt;u.removeClass(n),i.removeClass(n)}function w(){var n=$(r);n.click()}function b(){var n=$(t);n.click()}function f(){var n=$(a);typeof n.modal=="function"?n.modal("hide"):n.bootstrapModal("hide")}function n(n){f(),typeof n=="function"&&n()}function ft(n){if(typeof n=="function"){var t=n();if(t!=="undefined"&&t==!1)return!1}f()}var k="btn-primary",l="btn-neutral",c="btn-negative",rt="btn-disabled-primary",it="btn-disabled-neutral",tt="btn-disabled-negative",nt="btn-none",r="#roblox-confirm-btn",t="#roblox-decline-btn",a="[data-modal-handle='bootstrap-confirmation']",g=".modal-title",s=".modal-body-text",d="#recaptcha_response_field",h="#roblox-captcha-error",i="div.ConfirmationModalFooter",e="img.GenericModalImage",u={backdrop:!0,keyboard:!0};return{open:ut,close:f,disableButtons:y,enableButtons:p,clickYes:w,clickNo:b,green:k,blue:l,gray:c,none:nt}}());

;// Signup/Signup.js
var Roblox=Roblox||{};Roblox.Signup=Roblox.Signup||function(){var i={unknown:1,male:2,female:3},r={signup:0,captcha:2},n,u=function(t){typeof n=="function"&&n(t)},t=function(n){n.data("params",{})},f=function(i){typeof i.onSignupSuccess=="function"&&(n=i.onSignupSuccess),t($(".signup-or-log-in"))},e=function(n,t,i){var r=n.data("params");typeof r=="undefined"&&(r={}),r[t]={name:t,value:i},n.data("params",r)};return{GenderType:i,SectionType:r,addSignupParam:e,onSignupSuccess:u,resetParams:t,init:f}}();

;// ~/viewapp/common/formEvents/directives/formValidation.js
"use strict";formEvents.directive("rbxFormValidation",function(){return{require:["^form","ngModel"],restrict:"A",link:function(n,t,i,r){n.$watch(function(){var n=r[1];return n.$modelValue},function(t){var i=r[1],f=r[0],u;(n.badSubmit||i.$dirty)&&i.$invalid&&(u=i.redactedInput?"[Redacted]":t,Roblox.FormEvents&&Roblox.FormEvents.SendValidationFailed(f.context,i.$name,u,i.$validationMessage))})}}});

;// ~/viewapp/common/formEvents/directives/formValidationRedactInput.js
"use strict";formEvents.directive("rbxFormValidationRedactInput",function(){return{require:"ngModel",restrict:"A",link:function(n,t,i,r){r.redactedInput=!0}}});

;// ~/viewapp/common/constants/userInfoConstants.js
robloxApp.constant("userInfoConstants",{emailLabel:"Email",parentEmailLabel:"Parent's Email",ageThreshold:13});

;// ~/viewapp/widgets/signup/signup.js
"use strict";var signup=angular.module("Signup",["roblox.formEvents","captcha"]).config(["$injector",function(n){if(Roblox.I18nData&&Roblox.I18nData.isI18nEnabledOnLanding){var t=n.get("languageResourceProvider");t.setLanguageKeysFromFile(Roblox.Lang.SignUpResources)}}]);

;// ~/viewapp/widgets/signup/constants/signupConstants.js
"use strict";signup.constant("signupConstants",{genderType:{unknown:1,male:2,female:3},sectionType:{signup:0,captcha:2},inputType:{password:"password",text:"text"}});

;// ~/viewapp/widgets/signup/controllers/signupController.js
"use strict";signup.controller("SignupController",["$injector","$scope","$http","displayService","captchaInterface","regexService","signupService","userInfoConstants","signupConstants","languageResource",function(n,t,i,r,u,f,e,o,s,h){var c={},l;t.signup={},t.layout={passwordInputType:s.inputType.password},t.genderType=s.genderType,t.signup.gender=t.genderType.unknown,t.signup.emailPlaceholder=o.emailLabel,f.getEmailRegex().then(function(n){n&&(t.signup.emailRegex=n.Regex)}),Roblox.FunCaptcha&&(c=n.get("funCaptchaInterface")),t.captchaSetting={id:Roblox.FunCaptcha?c.ids.signup:u.ids.signup,isActivated:!1,captchaType:Roblox.FunCaptcha?c.types.signup:u.types.signup,successCb:function(){e.submitSignup(t)},errorCb:function(){Roblox.FunCaptcha&&t.$apply(function(){t.signupForm.$generalError=!0,t.signupForm.$generalErrorText="We currently cannot verify FunCaptcha, please try again later."})},responseCb:function(){e.logEvent("SignupCaptcha_Completed")},showInModal:!0},t.setGender=function(n,i,r){n.preventDefault(),(!r||t.isValidBirthday(t.signup.birthdayDay))&&(t.signup.gender=i)},t.isGenderInvalid=function(){return t.badSubmit&&!t.isGenderValid()},t.isGenderValid=function(){return t.signup.gender===t.genderType.male||t.signup.gender===t.genderType.female},t.getGenderInvalidMessage=function(){return t.isGenderInvalid()?h.get("Label.GenderRequired"):""},t.isBirthdayFormDirty=function(){return t.signupForm.birthdayMonth.$dirty&&t.signupForm.birthdayDay.$dirty&&t.signupForm.birthdayYear.$dirty&&t.signupForm.birthdayMonth.$modelValue!==null&&t.signupForm.birthdayDay.$modelValue!==null&&t.signupForm.birthdayYear.$modelValue!==null},t.isBirthdayInvalid=function(){return(t.badSubmit||t.isBirthdayFormDirty())&&(!t.isValidBirthday(t.signup.birthdayDay)||t.signupForm.birthdayYear.$invalid)},t.getBirthdayInvalidMessage=function(){return t.isBirthdayInvalid()?h.get("Response.InvalidBirthday"):""},t.isValidBirthday=function(n,i){var u=t.signup.birthdayYear,e,r,f,o,s;return(!u&&i&&(u="2014"),e=t.signup.birthdayMonth,n=parseInt(n),!u||!e||!n)?!1:(r=new Date(e+" "+n+" "+u),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))?!1:r.getDate()!==n?!1:(f=new Date,o=r.getTime()<f.getTime()&&r.getFullYear()>f.getFullYear()-100,!o)?!1:(t.signup.birthdayYear&&t.signup.birthdayMonth&&(s=t.isUnder13(r,f),t.setEmailPlaceholder(s)),!0)},t.isUnder13=function(n,t){var i=new Date(t.getFullYear()-o.ageThreshold,t.getMonth(),t.getDate());return n>i},t.togglePasswordVisibility=function(){t.layout.showPassword?(t.layout.showPassword=!1,t.layout.passwordInputType=s.inputType.password):(t.layout.showPassword=!0,t.layout.passwordInputType=s.inputType.text)},t.setEmailPlaceholder=function(n){n&&!t.signup.hasSeenU13EmailPlaceholder?(t.signup.email=null,t.signup.emailPlaceholder=o.parentEmailLabel,t.signup.hasSeenU13EmailPlaceholder=!0):n||(t.signup.hasSeenU13EmailPlaceholder=!1,t.signup.emailPlaceholder=o.emailLabel)},t.isEmailEnabled=function(){return t.isValidBirthday(t.signup.birthdayDay)},t.isEmailValid=function(){return t.signup.email&&t.signup.email.length>0&&t.signupForm.email.$valid},t.isEmailInvalid=function(){return t.signupForm.email&&!t.signupForm.email.$valid},t.getEmailInvalidMessage=function(){return t.isEmailInvalid?h.get("Response.InvalidEmail"):""},t.isTermsNotAccepted=function(){return t.badSubmit&&!t.signup.agreeTermsPrivacy},t.getTermsNotAcceptedMessage=function(){return t.isTermsNotAccepted()?h.get("Label.PleaseAgreeToTerms"):""},t.isEveryFieldButEmailValid=function(){return t.signupForm.$error&&Object.keys(t.signupForm.$error).length===2},t.isFormValid=function(){return t.isEmailInvalid()&&t.isEveryFieldButEmailValid()?!0:t.signupForm.$valid},t.badSubmit=!1,t.isSubmitting=!1,t.submitSignup=function(){if(t.isFormValid()&&t.signup.gender!==t.genderType.unknown&&t.isValidBirthday(t.signup.birthdayDay)&&t.signup.agreeTermsPrivacy)t.badSubmit=!1;else{t.badSubmit=!0;return}t.isSubmitting=!0,e.submitSignup(t)},t.isSectionShown=!0,t.$on("display:updated",function(n,i){t.isSectionShown=i===s.sectionType.signup,t.isSectionShown&&(t.signup={},t.badSubmit=!1,t.signupForm.$setPristine(),t.signupForm.$generalError=!1)}),t.disableFieldBirthdateInvalid=function(){var n=t.isValidBirthday(t.signup.birthdayDay);return!n},l=!1,t.passwordBoxClicked=function(){l=!0},t.getHintForUsername=function(){return t.signup.username?t.badSubmit||t.signupForm.signupUsername.$dirty?t.signupForm.signupUsername.$validationMessage:"":Roblox.Resources.AnimatedSignupFormValidator.usernameNoRealNameUse},t.getHintForPassword=function(){return!t.signup.password&&l?Roblox.Resources.AnimatedSignupFormValidator.passwordMinLength:t.badSubmit||t.signupForm.signupPassword.$dirty?t.signupForm.signupPassword.$validationMessage:""}}]);

;// ~/viewapp/widgets/signup/directives/showSection.js
"use strict";signup.directive("rbxShowSection",["$rootScope","displayService",function(n,t){return{restrict:"A",scope:{sectionType:"="},link:function(i,r){r.bind("click",function(){var u=t.getDisplayState(),r;t.setDisplayState(i.sectionType),n.$apply(),Roblox.EventStream&&(r={nodeName:this.nodeName,toSectionType:i.sectionType,fromSectionType:u},Roblox.EventStream.SendEvent("formSectionToggle","authForm",r))})}}}]);

;// ~/viewapp/widgets/signup/directives/validBirthday.js
"use strict";signup.directive("rbxValidBirthday",function(){return{require:"ngModel",link:function(n,t,i,r){n.$watch(function(){return!angular.isUndefined(r.$modelValue)&&r.$modelValue!==""},function(n){r.$setValidity("birthday",n),r.$validationMessage=Roblox.Resources.AnimatedSignupFormValidator.invalidBirthday})}}});

;// ~/viewapp/widgets/signup/directives/validPassword.js
"use strict";signup.directive("rbxValidPassword",function(){return{require:"ngModel",link:function(n,t,i,r){n.$watch(function(){return!angular.isUndefined(r.$modelValue)&&Roblox.SignupFormValidatorGeneric.getInvalidPasswordMessage(r.$modelValue,n.signup.username)},function(t){r.$setValidity("password",angular.isString(r.$modelValue)&&t===""),r.$validationMessage=angular.isString(r.$modelValue)?t:Roblox.Resources.AnimatedSignupFormValidator.passwordRequired,n.$unitTestValidationMessage=r.$validationMessage})}}});

;// ~/viewapp/widgets/signup/directives/validPasswordConfirm.js
"use strict";signup.directive("rbxValidPasswordConfirm",function(){return{require:"ngModel",restrict:"A",scope:{match:"=",name:"="},link:function(n,t,i,r){n.$watch(function(){return n.match===r.$modelValue},function(t){r.$validationMessage=t?angular.isString(r.$modelValue)?"":Roblox.Resources.AnimatedSignupFormValidator.passwordConfirmationRequired:Roblox.Resources.AnimatedSignupFormValidator.doesntMatch,n.$unitTestValidationMessage=r.$validationMessage,r.$setValidity("match",angular.isString(r.$modelValue)&&t)})}}});

;// ~/viewapp/widgets/signup/directives/validUsername.js
"use strict";signup.directive("rbxValidUsername",["httpService",function(n){return{require:"ngModel",link:function(t,i,r,u){t.signup.username=i.val(),t.usernameValidationRequestNum=0,t.onChange=function(){var h=t.signup.username===""||angular.isUndefined(t.signup.username),i="",r=!1,o=++t.usernameValidationRequestNum,s,f,e;o===1&&(t.signupForm?t.signupForm.signupUsername&&t.signup.username&&(t.signupForm.signupUsername.$dirty=!0):t.fbConnectForm&&t.fbConnectForm.username&&t.signup.username&&(t.fbConnectForm.username.$dirty=!0)),h?(r=!0,i=Roblox.Resources.AnimatedSignupFormValidator.usernameRequired):(i=Roblox.SignupFormValidatorGeneric.getInvalidUsernameMessage(t.signup.username),i!==""&&(r=!0)),u.$setValidity("validusername",!r),r?u.$validationMessage=i:(u.$validationMessage="",s={url:"/UserCheck/checkifinvalidusernameforsignup"},f={username:t.signup.username},t.signup.birthdayDay&&t.signup.birthdayMonth&&t.signup.birthdayYear&&(e=new Date(Date.parse(t.signup.birthdayMonth+" "+t.signup.birthdayDay+", "+t.signup.birthdayYear)),angular.isDate(e)&&(f.birthday=e)),n.httpGet(s,f).then(function(n){if(o==t.usernameValidationRequestNum){var f=!0,r=!0,i="";n.data===1?(f=!1,i=Roblox.Resources.AnimatedSignupFormValidator.alreadyTaken):n.data===2?(r=!1,i=Roblox.Resources.AnimatedSignupFormValidator.cantBeUsed):n.data===10?(r=!1,i=Roblox.Resources.AnimatedSignupFormValidator.cantBeUsedPii):n.data===100&&(r=!1,i=Roblox.Resources.AnimatedSignupFormValidator.birthdayRequired),u.$setValidity("unique",f),u.$setValidity("moderated",r),u.$invalid?i!=""&&(u.$validationMessage=i):u.$validationMessage=""}}))},t.$evalAsync(function(){t.onChange()})}}}]);

;// ~/viewapp/widgets/signup/services/displayService.js
"use strict";signup.factory("displayService",["$rootScope",function(n){var t=Roblox.Signup.SectionType.signup;return{getDisplayState:function(){return t},setDisplayState:function(i){t=i,n.$broadcast("display:updated",i)}}}]);

;// ~/viewapp/widgets/signup/services/signupService.js
"use strict";signup.factory("signupService",["httpService","eventTrackerService",function(n,t){function i(n){n.isSubmitting=!1,n.isSectionShown=!0,n.captchaSetting.isActivated=!0}function f(n){t.fireEvent(n)}var r=function(t){var o=angular.element("#signup-button"),h=o.data("signup-api-url"),c=o.data("is-auth-api-signup-endpoint-enabled"),r={},s=angular.element(".signup-or-log-in"),f=s.data("params"),u,e;typeof f=="undefined"&&(f={}),$.each(f,function(n,t){r[n]=t}),u=s.data("metadata-params"),typeof u=="undefined"&&(u={}),$.each(u,function(n,t){r[n]=t}),$.extend(r,{username:t.signup.username,password:t.signup.password,birthday:t.signup.birthdayDay+" "+t.signup.birthdayMonth+" "+t.signup.birthdayYear,gender:t.signup.gender,isTosAgreementBoxChecked:t.signup.agreeTermsPrivacy,context:t.signupForm.context}),t.signup.email&&$.extend(r,{email:t.signup.email}),e={url:h,withCredentials:!0},c||(e.headers={"Content-Type":"application/x-www-form-urlencoded"},r=$.param(r)),t.isSubmitting=!0,n.httpPost(e,r,!0).then(function(n){Roblox.Signup.onSignupSuccess(n.userId)},function(n){var r,u;t.badSubmit=!0,t.isSubmitting=!1,r=n.data,n.status===403?(u=0,r.reasons.indexOf("Captcha")!==-1&&(i(t),u+=1),r.reasons.indexOf("GenderInvalid")!==-1&&(t.signup.gender=1,u+=1),r.reasons.indexOf("PasswordInvalid")!==-1&&(t.signupForm.signupPassword.$setValidity("password",!1),t.signupForm.signupPassword.$passwordMessage="Password is invalid",u+=1),r.reasons.indexOf("UsernameInvalid")!==-1&&(t.signupForm.signupUsername.$setValidity("validusername",!1),t.signupForm.signupUsername.$usernameMessage="Username is invalid",u+=1),r.reasons.indexOf("UsernameTaken")!==-1&&(t.signupForm.signupUsername.$setValidity("unique",!1),t.signupForm.signupUsername.$usernameMessage="Username is taken",u+=1),u<r.reasons.length&&(t.signupForm.$generalError=!0,t.signupForm.$generalErrorText="Sorry, an error occurred.")):n.status===429?i(t):(t.signupForm.$generalError=!0,t.signupForm.$generalErrorText="Sorry, an error occurred.")})},u=function(t){var c=angular.element("#signup-button"),l=c.data("signup-api-url"),i={},e=angular.element(".signup-or-log-in"),u=e.data("params"),r,h;typeof u=="undefined"&&(u={}),$.each(u,function(n,t){i[n]=t}),r=e.data("metadata-params"),typeof r=="undefined"&&(r={}),$.each(r,function(n,t){i[n]=t});var f=angular.element(".signup-or-log-in .captcha-container"),o="",s="";f.length&&(o=f.find("#recaptcha_challenge_field").val(),s=f.find("#recaptcha_response_field").val()),$.extend(i,{UserName:t.signup.username,Birthday:angular.element("#BirthDayDate").val(),Email:angular.element("#Email").val(),Name:angular.element("#Name").val(),FBToken:angular.element("#FbToken").val(),GigyaUid:angular.element("#GigyaUID").val(),ReturnTo:angular.element("#ReturnTo").val(),IsGenderInputRequired:angular.element("#IsGenderInputRequired").val(),Gender:angular.element("#Gender").val(),recaptcha_challenge_field:o,recaptcha_response_field:s}),h={url:l,headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0},n.httpPost(h,$.param(i)).then(function(n){Roblox.Signup.onSignupSuccess(n.userId)},function(n){if(t.badSubmit=!0,t.isSubmitting=!1,n&&n.reasons){var i=0;n.reasons.indexOf("Captcha")!==-1&&(t.isSubmitting=!1,t.isSectionShown=!0,t.isCaptchaSectionShown=!0,window.hasOwnProperty("Recaptcha")&&window.Recaptcha.reload(),i+=1),n.reasons.indexOf("UsernameInvalid")!==-1&&(t.fbConnectForm.username.$setValidity("validusername",!1),t.fbConnectForm.username.$usernameMessage="Username is invalid",i+=1),n.reasons.indexOf("UsernameTaken")!==-1&&(t.fbConnectForm.username.$setValidity("unique",!1),t.fbConnectForm.username.$usernameMessage="Username is taken",i+=1),i<n.reasons.length&&(t.fbConnectForm.$generalError=!0,t.fbConnectForm.$generalErrorText="Sorry, an error occurred.")}else t.fbConnectForm.$generalError=!0,t.fbConnectForm.$generalErrorText="Sorry, an error occurred."})};return{submitSignup:r,socialSubmitSignup:u,logEvent:f}}]);

;// ~/viewapp/common/services/eventTrackerService.js
"use strict";robloxApp.factory("eventTrackerService",[function(){function n(){return EventTracker!==undefined&&EventTracker!==null}return{fireEvent:function(t){n()&&EventTracker.fireEvent&&EventTracker.fireEvent(t)}}}]);

;// EventTracker.js
EventTracker=new function(){var n=this;n.logMetrics=!1,n.transmitMetrics=!0,n.localEventLog=[];var t=new function(){var n={};this.get=function(t){return n[t]},this.set=function(t,i){n[t]=i},this.remove=function(t){delete n[t]}},r=function(){return(new Date).valueOf()},i=function(n,t){var i=r();$.each(n,function(n,r){u(r,t,i)})},u=function(i,r,u){var e=t.get(i),f,o;e?(t.remove(i),f=u-e,n.logMetrics&&console.log("[event]",i,r,f),n.transmitMetrics&&(o=i+"_"+r,$.ajax({type:"POST",timeout:5e4,url:"/game/report-stats?name="+o+"&value="+f,crossDomain:!0,xhrFields:{withCredentials:!0}}))):n.logMetrics&&console.log("[event]","ERROR: event not started -",i,r)};n.start=function(){var n=r();$.each(arguments,function(i,r){t.set(r,n)})},n.endSuccess=function(){i(arguments,"Success")},n.endCancel=function(){i(arguments,"Cancel")},n.endFailure=function(){i(arguments,"Failure")},n.fireEvent=function(){$.each(arguments,function(t,i){$.ajax({type:"POST",timeout:5e4,url:"/game/report-event?name="+i,crossDomain:!0,xhrFields:{withCredentials:!0}}),n.logMetrics&&console.log("[event]",i),n.localEventLog.push(i)})}};

;// captcha/constants/captchaConstants.js
"use strict";var Roblox=Roblox||{};Roblox.CaptchaConstants=Roblox.CaptchaConstants||{endpoints:{sendMessage:"",addFriend:"",follow:"",signup:"",joinGroup:"",login:"",postComment:"",clothingUpload:"",favorite:"",appSignup:"",appLogin:""},serviceData:{sitekey:"",trulyInvisibleSitekey:"",successSuffix:"Captcha_Success",failSuffix:"Captcha_Failed",displayedSuffix:"Captcha_Displayed",captchaSolvedPrefix:"Captcha_User_Solved_InSeconds_",captchaSolveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],captchaSolveTimeLarge:"Greater_Than_50",badgePosition:"bottomright",logConstants:{successSuffix:"_Success",failSuffix:"_Failed",displayedSuffix:"_Displayed",triggeredSuffix:"_Triggered",suppressedSuffix:"_Suppressed",providerErrorSuffix:"_FailedToLoad",completedTimeSequenceSuffix:"_SolveTime",solvedPrefix:"_User_Solved_InSeconds_",solveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],solveTimeLarge:"Greater_Than_50",eventStreamCaptchaEventName:"captcha",eventStreamCaptchaInitiatedEventName:"captchaInitiated",captchaInitiatedChallengeTypes:{visible:"visible",hidden:"hidden",error:"error"}}},types:{signup:"signup",sendMessage:"sendMessage",addFriend:"addFriend",follow:"follow",joinGroup:"joinGroup",login:"login",postComment:"postComment",clothingUpload:"clothingUpload",favorite:"favorite",appSignup:"appSignup",appLogin:"appLogin"},ids:{defaultCaptcha:"captcha-container",signup:"signup-captcha",login:"login-captcha",friends:"friends-captcha",groups:"groups-captcha",profile:"profile-captcha",playerSearch:"player-search-captcha",appCaptcha:"app-captcha"},messageElementIds:{defaultError:"captcha-error"},hybridEvents:{shown:"CaptchaShown",success:"CaptchaSuccess"},messages:{error:"We currently cannot verify CAPTCHA, please try again later.",funCaptchaError:"We currently cannot verify FunCaptcha, please try again later."}};

;// captcha/captchaLogger.js
"use strict";var Roblox=Roblox||{},EventTracker=window.EventTracker||null;Roblox.CaptchaLogger=function(n){function o(n){EventTracker&&EventTracker.start(n)}function s(n){EventTracker&&EventTracker.endSuccess(n)}function h(n){EventTracker&&EventTracker.endFailure(n)}function i(n){return n.charAt(0).toUpperCase()+n.slice(1)}function c(n,i){for(var o=1e3,f=n+t.solvedPrefix,e=t.solveTimeIntervals,u,r=0;r<e.length;r++)if(u=e[r],i<=u.seconds*o)return f+u.suffix;return f+t.solveTimeLarge}var f=Roblox.CaptchaConstants,e=$.extend({},f.serviceData),t=e.logConstants,u=!1,r;this.provider=n,this.setPerAppTypeLoggingEnabled=function(n){Roblox.DeviceMeta&&Roblox.DeviceMeta().isInApp&&(u=n,r=Roblox.DeviceMeta().appType)},this.fireEvent=function(n){if(EventTracker)if(u&&typeof r!="undefined"){var t=n+"_"+r;EventTracker.fireEvent(t)}else EventTracker.fireEvent(n)},this.logSolveTime=function(n,t){var r=c(this.provider,t);this.fireEvent(i(n+r))},this.logSuccess=function(n){this.fireEvent(i(n+this.provider+t.successSuffix)),s(n+this.provider+t.completedTimeSequenceSuffix)},this.logFail=function(n){this.fireEvent(i(n+this.provider+t.failSuffix)),h(n+this.provider+t.completedTimeSequenceSuffix)},this.logTriggered=function(n){this.fireEvent(i(n+this.provider+t.triggeredSuffix)),o(n+this.provider+t.completedTimeSequenceSuffix)},this.logSuppressed=function(n){this.fireEvent(i(n+this.provider+t.suppressedSuffix))},this.logDisplayed=function(n){this.fireEvent(i(n+this.provider+t.displayedSuffix))},this.logProviderError=function(n){this.fireEvent(i(n+this.provider+t.providerErrorSuffix))},this.logCaptchaShownEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.visible)},this.logCaptchaSuppressedEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.hidden)},this.logCaptchaErrorEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.error)},this.logCaptchaInitiatedEventToEventStream=function(n,i){if(Roblox.EventStream){var r=n;Roblox.EventStream.SendEventWithTarget(t.eventStreamCaptchaInitiatedEventName,r,{type:i,provider:this.provider},Roblox.EventStream.TargetTypes.WWW)}},this.logCaptchaEventToEventStream=function(n,i,r,u){if(Roblox.EventStream){i=i||0;var f=r?"true":"false",e=n;Roblox.EventStream.SendEventWithTarget(t.eventStreamCaptchaEventName,e,{solveDuration:i,success:f,provider:this.provider,session:u||""},Roblox.EventStream.TargetTypes.WWW)}}};

;// captcha/captchaService.js
"use strict";var Roblox=Roblox||{},grecaptcha=window.grecaptcha||null,EventTracker=window.EventTracker||null;Roblox.Captcha=function(){function u(n){return n.charAt(0).toUpperCase()+n.slice(1)}function v(n){return n.charAt(0).toLowerCase()+n.slice(1)}function a(){return(new Date).valueOf()}function k(t){for(var e=1e3,u=n.captchaSolvedPrefix,f=n.captchaSolveTimeIntervals,r,i=0;i<f.length;i++)if(r=f[i],t<=r.seconds*e)return u+r.suffix;return u+n.captchaSolveTimeLarge}function d(n){var i=k(n);EventTracker&&EventTracker.fireEvent(u(t+i))}function y(n,t,i){if(Roblox.EventStream){t=t||0;var r=i?"true":"false",u=n;Roblox.EventStream.SendEventWithTarget("captcha",u,{solveDuration:t,success:r,provider:"Google"},Roblox.EventStream.TargetTypes.WWW)}}function p(t,f,o){var h={"g-Recaptcha-Response":f,isInvisible:i.invisible};$.ajax({method:"POST",data:h,success:function(){EventTracker&&EventTracker.fireEvent(u(t+n.successSuffix)),y(t,o,!0),s&&(s(),$("#"+l).empty())},error:function(){EventTracker&&EventTracker.fireEvent(u(t+n.failSuffix)),y(t,o,!1),e&&e(),Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-warning"),100,2e3,Roblox.CaptchaConstants.messages.error)},url:r[t]})}function w(n){var i={"g-Recaptcha-Response":n,isTrulyInvisible:!0};$.ajax({method:"POST",data:i,complete:function(){$("#"+c).empty()},url:r[t]})}function g(i,r){if(t=t||v(r),c=i,grecaptcha){var u={callback:w,badge:n.badgePosition},f=grecaptcha.render(c,u);grecaptcha.execute(f)}}var r=Roblox.CaptchaConstants.endpoints,l,c,h,i={invisible:!1},n=Roblox.CaptchaConstants.serviceData,o,t,s,e,f,b=function(n){typeof f=="function"&&f();var i=null;o&&(i=a()-o,d(i),o=null),p(t,n,i)};return{ids:Roblox.CaptchaConstants.ids,types:Roblox.CaptchaConstants.types,setEndpoint:function(n,t){r[n]=t},getEndpoint:function(n){return r[n]},setInvisibleMode:function(n){i.invisible=n},getInvisibleMode:function(){return i.invisible},setSiteKey:function(t){n.sitekey=t},verify:p,reset:function(n,r,u,o){t=n,s=r,e=u,f=o,grecaptcha&&(grecaptcha.reset(h),i.invisible&&grecaptcha.execute(h))},render:function(r,c,v,y,p){if(t=c,s=v,e=y,f=p,l=r,grecaptcha){var w={sitekey:n.sitekey,callback:b,badge:n.badgePosition};i.invisible&&(w.size="invisible"),h=grecaptcha.render(r,w),EventTracker&&EventTracker.fireEvent(u(t+n.displayedSuffix)),o=a()}},execute:function(){grecaptcha&&i.invisible&&grecaptcha.execute(h)},setMultipleEndpoints:function(n,t){var i,u;if(n&&t)for(i=0;i<n.length;i++)u=v(n[i]),r[u]=t},trulyInvisibleCallback:w,renderTrulyInvisible:g}}();

;// ~/viewapp/widgets/captcha/captcha.js
"use strict";var captcha=angular.module("captcha",[]);

;// ~/viewapp/widgets/captcha/constants/captchaConstants.js
"use strict";captcha.constant("captchaConstants",{template:"<div id='{{captchaElem.id}}' ng-show='captchaElem.isVisible'></div>",googleTemplate:"google-captcha-template",fcTemplate:"fun-captcha-template",fcModalTemplate:"fun-captcha-modal-template"});

;// ~/viewapp/widgets/captcha/directives/captchaDirective.js
"use strict";captcha.directive("captcha",["$log","$parse","captchaConstants","captchaInterface",function(n,t,i,r){return{restrict:"A",template:i.template,link:function(i,u,f){function h(n,t,f,e){var l=u.find("#"+i.captchaElem.id),s,h;if(i.captchaElem.isVisible=!0,s=function(){c(),angular.isFunction(t)&&t()},h=function(){angular.isFunction(f)&&f()},o){r.reset(n,s,h,e);return}r.render(i.captchaElem.id,n,s,h,e),o=!0,r.execute()}function c(){var n=u.find("#"+i.captchaElem.id);n.empty(),i.captchaElem.isVisible=!1}var o,e,s;i.captchaElem={isVisible:!1},o=!1,e=t(f.captchaModel)(i),i.captchaElem.id=e.id||r.ids.defaultCaptcha,s=i.$watch(function(){return e.isActivated},function(r){if(r){var s=t(f.onCaptchaSuccess)(i)||angular.noop,c=t(f.onCaptchaError)(i)||angular.noop,l=t(f.onCaptchaResponse)(i)||angular.noop,o=t(f.captchaType)(i);if(!o){n.debug("[Captcha Error] captcha type cannot be empty");return}h(o,s,c,l),e.isActivated=!1}},!0),i.$on("$destroy",function(){s&&s()})}}}]);

;// ~/viewapp/widgets/captcha/services/captchaInterface.js
captcha.factory("captchaInterface",["$q",function(){var t=Roblox.Captcha||{};return{types:t.types,ids:t.ids,setEndpoint:t.setEndpoint,setInvisibleMode:t.setInvisibleMode,setSiteKey:t.setSiteKey,reset:t.reset,render:t.render,execute:t.execute}}]);

;// captcha/funCaptchaService.js
"use strict";var Roblox=Roblox||{};Roblox.FunCaptcha=function(){function e(n){t[n]&&t[n].fcInstance.refresh_session()}function f(i,f){if(t[i]&&t[i].fcInstance)return e(i),i;var s=l(i,f);r=u(),n.logTriggered(s.cType);try{s.fcInstance=new FunCaptcha({public_key:o.sitekey,target_html:i,callback:function(){var t=null;r&&(t=u()-r,n.logSolveTime(s.cType,t),r=null),a(s,i,t),s.solvedCb()},loaded_callback:s.loadedCb,onsuppress:function(){v(s.cType),s.suppressCb()},onshown:function(){y(s.cType),s.shownCb()}})}catch(h){n.logProviderError(s.cType),n.logCaptchaErrorEventToEventStream(s.cType)}return i}function l(n,i){var r=$.extend({},h,i);return t[n]=r,r}function a(t,r,u){var e=$(c).val(),o={fcToken:e};$.ajax({method:"POST",data:o,url:i[t.cType],success:function(){n.logSuccess(t.cType),n.logCaptchaEventToEventStream(t.cType,u,!0,e),t.successCb()},error:function(){n.logFail(t.cType),n.logCaptchaEventToEventStream(t.cType,u,!1,e),t.tokenValidationRetries<s?(t.tokenValidationRetries+=1,f(r,t)):t.errorCb()}})}function u(){return(new Date).valueOf()}function v(t){n.logSuppressed(t),n.logCaptchaSuppressedEventToEventStream(t)}function y(t){n.logDisplayed(t),n.logCaptchaShownEventToEventStream(t)}function p(n){return n.charAt(0).toLowerCase()+n.slice(1)}var i=$.extend({},Roblox.CaptchaConstants.endpoints),o=$.extend({},Roblox.CaptchaConstants.serviceData),w=$.extend({},Roblox.CaptchaConstants.messages),c="#FunCaptcha-Token",s=0,n=new Roblox.CaptchaLogger("FunCaptcha"),t={},h={cType:null,tokenValidationRetries:0,solvedCb:$.noop,loadedCb:$.noop,supressCb:$.noop,shownCb:$.noop,successCb:$.noop,errorCb:$.noop,fcInstance:null},r;return{types:$.extend({},Roblox.CaptchaConstants.types),setEndpoint:function(n,t){i[n]=t},getEndpoint:function(n){return i[n]},setSiteKey:function(n){o.sitekey=n},setMaxRetriesOnTokenValidationFailure:function(n){s=n},reset:e,render:f,setMultipleEndpoints:function(n,t){var r,u;if(n&&t)for(r=0;r<n.length;r++)u=p(n[r]),i[u]=t},setPerAppTypeLoggingEnabled:function(t){n.setPerAppTypeLoggingEnabled(t)},captchaInstances:t,loggerInstance:n}}();

;// ~/viewapp/widgets/captcha/services/funCaptchaInterface.js
captcha.factory("funCaptchaInterface",["$q",function(){var t=Roblox.FunCaptcha||{};return{ids:Roblox.CaptchaConstants.ids,types:t.types,setEndpoint:t.setEndpoint,setSiteKey:t.setSiteKey,reset:t.reset,render:t.render}}]);

;// ~/viewapp/widgets/captcha/directives/funCaptchaDirective.js
"use strict";captcha.directive("funCaptcha",["$log","$uibModal","captchaConstants","funCaptchaInterface",function(n,t,i,r){return{restrict:"A",scope:{captchaModel:"=",onFunCaptchaSuccess:"&",onFunCaptchaError:"&",onFunCaptchaSolved:"&",onFunCaptchaLoaded:"&",onFunCaptchaSuppress:"&",onFunCaptchaShown:"&",captchaType:"=",showInModal:"="},templateUrl:i.fcTemplate,link:function(u,f){function a(){u.showInModal&&(u.showContainer=!1,o=t.open({templateUrl:i.fcModalTemplate,keyboard:!1,backdrop:"static"}),o.rendered.then(function(){c=angular.element("#funcaptcha-modal-body"),l=angular.element("#"+u.captchaElem.id).detach(),c.append(l),u.showContainer=!0}),o.result.then(function(){f.append(angular.element("#"+u.captchaElem.id).detach()),u.showContainer=!1})),u.onFunCaptchaShown&&u.onFunCaptchaShown()}function v(){u.showInModal&&o&&o.close(),u.onFunCaptchaSolved&&u.onFunCaptchaSolved()}var s=u.captchaModel,o,c,l,h;u.captchaElem={id:s.id},u.showContainer=!0,h=u.$watch(function(){return s.isActivated},function(t){if(t){var f={successCb:u.onFunCaptchaSuccess||angular.noop,errorCb:u.onFunCaptchaError||angular.noop,solvedCb:v,loadedCb:u.onFunCaptchaLoaded||angular.noop,suppressCb:u.onFunCaptchaSuppress||angular.noop,shownCb:a,cType:u.captchaType};if(!f.cType){n.debug("[Captcha Error] captcha type cannot be empty");return}r.render(u.captchaElem.id,f),s.isActivated=!1}},!0),u.$on("$destroy",function(){h&&h()})}}}]);

;// common/deviceMeta.js
var Roblox=Roblox||{};Roblox.DeviceMeta=function(){var t=document.querySelector('meta[name="device-meta"]');if(t===null){console.debug("Error loading device information from meta tag - please check if meta tag is present");return}var n=t.dataset||{},i={android:"android",ios:"ios",xbox:"xbox",uwp:"uwp",amazon:"amazon",unknown:"unknown"},r={computer:"computer",tablet:"tablet",phone:"phone",console:"console"};return function(){return{deviceType:r[n.deviceType]||"",appType:i[n.appType]||"",isInApp:n.isInApp==="true",isDesktop:n.isDesktop==="true",isPhone:n.isPhone==="true",isTablet:n.isTablet==="true",isConsole:n.isConsole==="true",isAndroidApp:n.isAndroidApp==="true",isIosApp:n.isIosApp==="true",isUWPApp:n.isUwpApp==="true",isXboxApp:n.isXboxApp==="true",isAmazonApp:n.isAmazonApp==="true",isStudio:n.isStudio==="true"}}}();

;//Bundle detector
Roblox && Roblox.BundleDetector && Roblox.BundleDetector.bundleDetected('page');