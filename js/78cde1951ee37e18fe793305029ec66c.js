;// bundle: idewelcomepage___6718693ef770b250900153ae7cdae3e1_m
;// files: roblox.js, GoogleAnalytics/GoogleAnalyticsEvents.js, EventTracker.js, PlaceLauncher.js, ClientInstaller.js, jquery.simplemodal-1.3.5.js, GenericModal.js, GenericConfirmation.js, jquery.ba-postmessage.min.js, parentFrameLogin.js, IframeEventListener.js, extensions/Thumbnails.js, IDE/Welcome.js, IDE/BuildTemplates.js, StringTruncator.js, widgets/tabs.js, JavascriptEndpoints.js

;// roblox.js
(function(n,t){function b(n,i){var r=i.split(".");for(i=r.shift();r.length>0;n=n[i],i=r.shift())if(n[i]===t)return t;return n[i]}function y(n,i,r){var u=i.split(".");for(i=u.shift();u.length>0;n=n[i],i=u.shift())n[i]===t&&(n[i]={});n[i]=r}function w(n,t){var i=f.createElement("link");i.href=n,i.rel="stylesheet",i.type="text/css",u.parentNode.insertBefore(i,u),t()}function p(n,t){var i=f.createElement("script");i.type="text/javascript",i.src=n,i.onload=i.onreadystatechange=function(){i.readyState&&i.readyState!="loaded"&&i.readyState!="complete"||(t(),i.onload=i.onreadystatechange=null)},u.parentNode.insertBefore(i,u)}function g(n){return n.split(".").pop().split("?").shift()}function l(n){if(n.indexOf(".js")<0)return n;if(n.indexOf(r.modulePath)>=0)return n.split(r.modulePath+"/").pop().split(".").shift().replace("/",".");for(var t in r.paths)if(r.paths[t]==n)return t;return n}function v(n){return n.indexOf(".js")>=0||n.indexOf(".css")>=0?n:r.paths[n]||r.baseUrl+r.modulePath+"/"+n.replace(".","/")+".js"}function c(n){for(var r,u=[],i=0;i<n.length;i++)r=b(Roblox,l(n[i])),r!==t&&u.push(r);return u}function e(n){var t=i[n];if(t.loaded&&t.depsLoaded)while(t.listeners.length>0)t.listeners.shift()()}function a(n,u){var f,o,s;if(!d(n)||r.externalResources.toString().indexOf(n)>=0)return u();f=l(n),i[f]===t?(i[f]={loaded:!1,depsLoaded:!0,listeners:[]},i[f].listeners.push(u),o=v(f),s=g(o)=="css"?w:p,s(o,function(){i[f].loaded=!0,e(f)})):(i[f].listeners.push(u),e(f))}function o(n,t){var i=n.shift(),r=n.length==0?t:function(){o(n,t)};a(i,r)}function h(n,t){s(n)||(n=[n]);var i=function(){t.apply(null,c(n))};o(n.slice(0),i)}function nt(n,t,r){k(t)?(r=t,t=[]):s(t)||(t=[t]),i[n]=i[n]||{loaded:!0,listeners:[]},i[n].depsLoaded=!1,i[n].listeners.unshift(function(){y(Roblox,n,r.apply(null,c(t)))}),h(t,function(){i[n].depsLoaded=!0,e(n)})}var f=n.document,u=f.getElementsByTagName("script")[0],d=function(n){return typeof n=="string"},s=function(n){return Object.prototype.toString.call(n)=="[object Array]"},k=function(n){return Object.prototype.toString.call(n)=="[object Function]"},i={},r={baseUrl:"",modulePath:"/js/modules",paths:{},externalResources:[]};typeof Roblox=="undefined"&&(Roblox={}),Roblox.config=r,Roblox.require=h,Roblox.define=nt})(window);

;// GoogleAnalytics/GoogleAnalyticsEvents.js
function makeGoogleAnalyticsLogObject(n){var t={};return t.event=n,t.timestamp=+new Date,t}function GoogleAnalyticsTimingTracker(n,t,i,r){this.maxTime=6e4,this.category=n,this.variable=t,this.label=i?i:undefined,this.isDebug=r}var GoogleAnalyticsEvents={LocalEventLog:[],SetCustomVar:function(n,t,i,r){window._gaq&&(window.GoogleAnalyticsDisableRoblox2||_gaq.push(["_setCustomVar",n,t,i,r]),_gaq.push(["b._setCustomVar",n,t,i,r]))},FireEvent:function(n){var t,i;window._gaq&&(window.GoogleAnalyticsDisableRoblox2||(t=["_trackEvent"],t=t.concat(n),_gaq.push(t),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(t))),i=["b._trackEvent"],i=i.concat(n),_gaq.push(i),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(i)))},ViewVirtual:function(n){window._gaq&&(!window.GoogleAnalyticsDisableRoblox2&&window._gaq.push(["_trackPageview",n]),window._gaq.push(["b._trackPageview",n]))},TrackTransaction:function(n,t){if(window._gaq){var i=["_addTrans",n,"Roblox",t,"0","0","San Mateo","California","USA"];window.GoogleAnalyticsDisableRoblox2||(_gaq.push(i),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(i))),i[0]="b."+i[0],_gaq.push(i),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(i))}},TrackTransactionItem:function(n,t,i,r,u){if(window._gaq){var f=["_addItem",n,t,i,r,u,1],e=["_trackTrans"];window.GoogleAnalyticsDisableRoblox2||(_gaq.push(f),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(f)),_gaq.push(e),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(e))),f[0]="b."+f[0],e[0]="b."+e[0],_gaq.push(f),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(f)),_gaq.push(e),GoogleAnalyticsEvents.LocalEventLog.push(makeGoogleAnalyticsLogObject(e))}}};GoogleAnalyticsTimingTracker.prototype.getTimeStamp=function(){return window.performance&&window.performance.now?Math.round(window.performance.now()):+new Date},GoogleAnalyticsTimingTracker.prototype.start=function(){this.startTime=this.getTimeStamp()},GoogleAnalyticsTimingTracker.prototype.stop=function(){this.elapsedTime=this.getTimeStamp()-this.startTime},GoogleAnalyticsTimingTracker.prototype.send=function(){if(0<this.elapsedTime&&this.elapsedTime<this.maxTime){var n=["b._trackTiming",this.category,this.variable,this.elapsedTime,this.label,100];this.isDebug&&window.console&&window.console.log&&console.log(n),window._gaq.push(n)}};

;// EventTracker.js
EventTracker=new function(){var n=this;n.logMetrics=!1,n.transmitMetrics=!0,n.localEventLog=[];var t=new function(){var n={};this.get=function(t){return n[t]},this.set=function(t,i){n[t]=i},this.remove=function(t){delete n[t]}},r=function(){return(new Date).valueOf()},i=function(n,t){var i=r();$.each(n,function(n,r){u(r,t,i)})},u=function(i,r,u){var e=t.get(i),f,o;e?(t.remove(i),f=u-e,n.logMetrics&&console.log("[event]",i,r,f),n.transmitMetrics&&(o=i+"_"+r,$.ajax({type:"POST",timeout:5e4,url:"/game/report-stats?name="+o+"&value="+f}))):n.logMetrics&&console.log("[event]","ERROR: event not started -",i,r)};n.start=function(){var n=r();$.each(arguments,function(i,r){t.set(r,n)})},n.endSuccess=function(){i(arguments,"Success")},n.endCancel=function(){i(arguments,"Cancel")},n.endFailure=function(){i(arguments,"Failure")},n.fireEvent=function(){$.each(arguments,function(t,i){$.ajax({type:"POST",timeout:5e4,url:"/game/report-event?name="+i,crossDomain:!0,xhrFields:{withCredentials:!0}}),n.logMetrics&&console.log("[event]",i),n.localEventLog.push(i)})}};

;// PlaceLauncher.js
var RBX={},RobloxLaunchStates={StartingServer:"StartingServer",StartingClient:"StartingClient",Upgrading:"Upgrading",None:"None"},RobloxLaunch={launchGamePage:"/install/download.aspx",launcher:null,googleAnalyticsCallback:function(){RobloxLaunch._GoogleAnalyticsCallback&&RobloxLaunch._GoogleAnalyticsCallback()},state:RobloxLaunchStates.None,protocolNameForClient:"",protocolNameForStudio:"",protocolUrlSeparator:""},RobloxPlaceLauncherService={LogJoinClick:function(){$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"LogJoinClick"},crossDomain:!0,xhrFields:{withCredentials:!0}}).done()},RequestGame:function(n,t,i,r,u,f){i=i!==null&&i!==undefined?i:"",$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"RequestGame",placeId:n,isPartyLeader:t,gender:i},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?u(n.Error,f):r(n,f)})},RequestPlayWithParty:function(n,t,i,r,u,f){$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"RequestPlayWithParty",placeId:n,partyGuid:t,gameId:i},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?u(n.Error,f):r(n,f)})},RequestGroupBuildGame:function(n,t,i,r){$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"RequestGroupBuildGame",placeId:n},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?i(n.Error,r):t(n,r)})},RequestFollowUser:function(n,t,i,r){$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"RequestFollowUser",userId:n},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?i(n.Error,r):t(n,r)})},RequestGameJob:function(n,t,i,r,u){$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"RequestGameJob",placeId:n,gameId:t},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?r(n.Error,u):i(n,u)})},CheckGameJobStatus:function(n,t,i,r){$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"CheckGameJobStatus",jobId:n},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?i(n.Error,r):t(n,r)})},RequestPrivateGame:function(n,t,i,r,u,f,e){i=i!==null&&i!==undefined?i:"",$.ajax({method:"GET",url:"/Game/PlaceLauncher.ashx",data:{request:"RequestPrivateGame",placeId:n,accessCode:t,gender:i,linkCode:r},crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(n){n.Error?f(n.Error,e):u(n,e)})}};RobloxLaunch.RequestPlayWithParty=function(n,t,i,r){EventTracker.start("Launch"),RobloxPlaceLauncherService.LogJoinClick(),RobloxLaunch.state=RobloxLaunchStates.None,checkRobloxInstall()&&(RobloxLaunch.launcher===null&&(RobloxLaunch.launcher=new RBX.PlaceLauncher(n)),RobloxLaunch.launcher.RequestPlayWithParty(t,i,r))},RobloxLaunch.RequestGame=function(n,t,i){EventTracker.start("Launch"),RobloxPlaceLauncherService.LogJoinClick(),RobloxLaunch.state=RobloxLaunchStates.None,checkRobloxInstall()&&(RobloxLaunch.launcher===null&&(RobloxLaunch.launcher=new RBX.PlaceLauncher(n)),RobloxLaunch.launcher.RequestGame(t,i))},RobloxLaunch.RequestPrivateGame=function(n,t,i,r,u){EventTracker.start("Launch"),RobloxPlaceLauncherService.LogJoinClick(),RobloxLaunch.state=RobloxLaunchStates.None,checkRobloxInstall()&&(RobloxLaunch.launcher===null&&(RobloxLaunch.launcher=new RBX.PlaceLauncher(n)),RobloxLaunch.launcher.RequestPrivateGame(t,i,r,u))},RobloxLaunch.RequestGroupBuildGame=function(n,t){EventTracker.start("Launch"),RobloxPlaceLauncherService.LogJoinClick(),RobloxLaunch.state=RobloxLaunchStates.None,checkRobloxInstall()&&(RobloxLaunch.launcher===null&&(RobloxLaunch.launcher=new RBX.PlaceLauncher(n)),RobloxLaunch.launcher.RequestGroupBuildGame(t))},RobloxLaunch.RequestGameJob=function(n,t,i){EventTracker.start("Launch"),RobloxPlaceLauncherService.LogJoinClick(),RobloxLaunch.state=RobloxLaunchStates.None,checkRobloxInstall()&&(RobloxLaunch.launcher===null&&(RobloxLaunch.launcher=new RBX.PlaceLauncher(n)),RobloxLaunch.launcher.RequestGameJob(t,i))},RobloxLaunch.RequestFollowUser=function(n,t){EventTracker.start("Launch"),RobloxPlaceLauncherService.LogJoinClick(),RobloxLaunch.state=RobloxLaunchStates.None,checkRobloxInstall()&&(RobloxLaunch.launcher===null&&(RobloxLaunch.launcher=new RBX.PlaceLauncher(n)),RobloxLaunch.launcher.RequestFollowUser(t))},RobloxLaunch.StartGame=function(n,t,i,r,u){var f=function(r){RobloxLaunch.StartGameWork(n,t,i,r,u)},e;r=="FETCH"?(e=Roblox.Endpoints.getAbsoluteUrl("/Game/GetAuthTicket"),$.ajax({method:"GET",url:e,crossDomain:!0,xhrFields:{withCredentials:!0}}).done(f)):f(r)},RobloxLaunch.StartGameWork=function(n,t,i,r,u){var o,f,s,e,h;i=i.replace("http://","https://"),n.indexOf("http")>=0&&(n=typeof RobloxLaunch.SeleniumTestMode=="undefined"?n+"&testmode=false":n+"&testmode=true"),GoogleAnalyticsEvents&&GoogleAnalyticsEvents.ViewVirtual("Visit/Try/"+t),RobloxLaunch.state=RobloxLaunchStates.StartingClient,RobloxLaunch.googleAnalyticsCallback!==null&&RobloxLaunch.googleAnalyticsCallback(),o=null;try{if(typeof window.external!="undefined"&&window.external.IsRoblox2App&&(n.indexOf("visit")!=-1||u))window.external.StartGame(r,i,n);else if(o="RobloxProxy/",f=Roblox.Client.CreateLauncher(!0),f){o="RobloxProxy/StartGame/";try{try{Roblox.Client.IsIE()?f.AuthenticationTicket=r:f.Put_AuthenticationTicket(r),u&&f.SetEditMode()}catch(l){}try{if(Roblox.Client._silentModeEnabled)f.SetSilentModeEnabled(!0),s=Roblox.VideoPreRollDFP?Roblox.VideoPreRollDFP:Roblox.VideoPreRoll,s&&s.videoInitialized&&s.isPlaying()&&Roblox.Client.SetStartInHiddenMode(!0),f.StartGame(i,n),RobloxLaunch.CheckGameStarted(f,t);else throw"silent mode is disabled, fall back";}catch(l){if(f.StartGame(i,n),Roblox.Client._bringAppToFrontEnabled)try{f.BringAppToFront()}catch(a){}Roblox.Client.ReleaseLauncher(f,!0,!1),$.modal.close()}}catch(l){Roblox.Client.ReleaseLauncher(f,!0,!1);throw l;}}else{try{parent.playFromUrl(n);return}catch(c){}if(Roblox.Client.isRobloxBrowser())try{window.external.StartGame(r,i,n)}catch(c){throw"window.external fallback failed, Roblox must not be installed or IE cannot access ActiveX";}else throw"launcher is null or undefined and external is missing";RobloxLaunch.state=RobloxLaunchStates.None,$.modal.close()}}catch(l){if(e=l.message,e==="User cancelled")return GoogleAnalyticsEvents&&GoogleAnalyticsEvents.ViewVirtual("Visit/UserCancelled/"+t),!1;try{h=new ActiveXObject("Microsoft.XMLHTTP")}catch(v){e="FailedXMLHTTP/"+e}return Roblox.Client.isRobloxBrowser()?GoogleAnalyticsEvents&&GoogleAnalyticsEvents.ViewVirtual("Visit/Fail/"+o+encodeURIComponent(e)):(GoogleAnalyticsEvents&&GoogleAnalyticsEvents.ViewVirtual("Visit/Redirect/"+o+encodeURIComponent(e)),window.location=RobloxLaunch.launchGamePage),!1}return GoogleAnalyticsEvents&&GoogleAnalyticsEvents.ViewVirtual("Visit/Success/"+t),!0},RobloxLaunch.CheckGameStarted=function(n,t){function u(){var e,o;try{if(r||(r=Roblox.Client.IsIE()?n.IsGameStarted:n.Get_GameStarted()),r&&!f&&(EventTracker.endSuccess("StartClient"),EventTracker.endSuccess("Launch"),$("#PlaceLauncherStatusPanel").data("new-plugin-events-enabled")=="True"&&(e=$("#PlaceLauncherStatusPanel").data("os-name"),e=="Windows"&&(e="Win32"),EventTracker.fireEvent("GameLaunchSuccessWeb_"+e),EventTracker.fireEvent("GameLaunchSuccessWeb_"+e+"_Plugin"),GoogleAnalyticsEvents&&GoogleAnalyticsEvents.FireEvent(["Plugin","Launch Success",t]),$("#PlaceLauncherStatusPanel").data("event-stream-for-plugin-enabled")=="True"&&typeof Roblox.GamePlayEvents!="undefined"&&Roblox.GamePlayEvents.SendClientStartSuccessWeb(null,play_placeId)),f=!0),o=Roblox.VideoPreRollDFP?Roblox.VideoPreRollDFP:Roblox.VideoPreRoll,r&&!o.isPlaying()){if(MadStatus.stop("Connecting to Players..."),RobloxLaunch.state=RobloxLaunchStates.None,$.modal.close(),i._cancelled=!0,Roblox.Client._hiddenModeEnabled&&Roblox.Client.UnhideApp(),Roblox.Client._bringAppToFrontEnabled)try{n.BringAppToFront()}catch(s){}Roblox.Client.ReleaseLauncher(n,!0,!1),googletag.cmd.push(function(){googletag.pubads().refresh()})}else i._cancelled||setTimeout(u,1e3)}catch(h){i._cancelled||setTimeout(u,1e3)}}var f=!1,i=RobloxLaunch.launcher,r;i===null&&(i=new RBX.PlaceLauncher("PlaceLauncherStatusPanel"),i._showDialog(),i._updateStatus(0)),r=!1,u()},RobloxLaunch.CheckRobloxInstall=function(n){if(Roblox.Client.IsRobloxInstalled())return Roblox.Client.Update(),!0;window.location=n},RBX.PlaceLauncher=function(n){this._cancelled=!1,this._popupID=n,this._popup=$("#"+n)},RBX.PlaceLauncher.prototype={_showDialog:function(){var n,t,i;this._cancelled=!1,_popupOptions={escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},zIndex:1031},n=Roblox.VideoPreRollDFP?Roblox.VideoPreRollDFP:Roblox.VideoPreRoll,this._popupID=="PlaceLauncherStatusPanel"&&(n&&n.showVideoPreRoll&&!n.isExcluded()?(this._popup=$("#videoPrerollPanel"),_popupOptions.onShow=function(t){n.correctIEModalPosition(t),n.start(),$("#prerollClose").hide(),$("#prerollClose").delay(1e3*n.adTime+n.videoLoadingTimeout).show(300)},_popupOptions.onClose=function(){n.close()},_popupOptions.closeHTML='<a href="#" id = "prerollClose" class="ImageButton closeBtnCircle_35h ABCloseCircle VprCloseButton"></a>'):(this._popup=$("#"+this._popupID),_popupOptions.onClose=function(){n.logVideoPreRoll(),$.modal.close()})),t=this,setTimeout(function(){t._popup.modal(_popupOptions)},0),i=this,$(".CancelPlaceLauncherButton").click(function(){i.CancelLaunch()}),$(".CancelPlaceLauncherButton").show()},_onGameStatus:function(n){if(this._cancelled){EventTracker.endCancel("GetConnection"),EventTracker.endCancel("Launch");return}if(this._updateStatus(n.status),n.status===2)EventTracker.endSuccess("GetConnection"),EventTracker.start("StartClient"),RobloxLaunch.StartGame(n.joinScriptUrl,"Join",n.authenticationUrl,n.authenticationTicket);else if(n.status<2||n.status===6){var t=function(n,t){t._onGameStatus(n)},i=function(n,t){t._onGameError(n)},r=this,u=function(){RobloxPlaceLauncherService.CheckGameJobStatus(n.jobId,t,i,r)};window.setTimeout(u,2e3)}else n.status===4&&(EventTracker.endFailure("GetConnection"),EventTracker.endFailure("Launch"))},_updateStatus:function(n){MadStatus.running||(MadStatus.init($(this._popup).find(".MadStatusField"),$(this._popup).find(".MadStatusBackBuffer"),2e3,800),MadStatus.start());switch(n){case 0:break;case 1:MadStatus.manualUpdate("A server is loading the game...",!0);break;case 2:MadStatus.manualUpdate("The server is ready. Joining the game...",!0,!1);break;case 3:MadStatus.manualUpdate("Joining games is temporarily disabled while we upgrade. Please try again soon.",!1);break;case 4:MadStatus.manualUpdate("An error occurred. Please try again later.",!1);break;case 5:MadStatus.manualUpdate("The game you requested has ended.",!1);break;case 6:MadStatus.manualUpdate("The game you requested is currently full. Waiting for an opening...",!0,!0);break;case 7:MadStatus.manualUpdate("Roblox is updating. Please wait...",!0);break;case 8:MadStatus.manualUpdate("Requesting a server",!0);break;case 10:MadStatus.manualUpdate("The user has left the game.",!1);break;case 11:MadStatus.manualUpdate("The game you requested is not available on your platform.",!1);break;case 12:MadStatus.manualUpdate("You are not authorized to join this game.",!1);break;default:MadStatus.stop("Connecting to Players...")}$(this._popup).find(".MadStatusStarting").css("display","none"),$(this._popup).find(".MadStatusSpinner").css("visibility",n===3||n===4||n===5?"hidden":"visible")},_onGameError:function(){this._updateStatus(4)},_startUpdatePolling:function(n){var t,i;try{if(RobloxLaunch.state=RobloxLaunchStates.Upgrading,t=Roblox.Client.CreateLauncher(!0),i=Roblox.Client.IsIE()?t.IsUpToDate:t.Get_IsUpToDate(),i||i===undefined){try{t.PreStartGame()}catch(e){}Roblox.Client.ReleaseLauncher(t,!0,!1),RobloxLaunch.state=RobloxLaunchStates.StartingServer,EventTracker.endSuccess("UpdateClient"),n();return}var r=function(t,i,r){r._onUpdateStatus(t,i,n)},u=function(n,t){t._onUpdateError(n)},f=this;this.CheckUpdateStatus(r,u,t,n,f)}catch(e){Roblox.Client.ReleaseLauncher(t,!0,!1),EventTracker.endSuccess("UpdateClient"),n()}},_onUpdateStatus:function(n,t,i){if(!this._cancelled)if(this._updateStatus(n),n===8)Roblox.Client.ReleaseLauncher(t,!0,!0),Roblox.Client.Refresh(),RobloxLaunch.state=RobloxLaunchStates.StartingServer,EventTracker.endSuccess("UpdateClient"),i();else if(n===7){var u=function(n,t,r){r._onUpdateStatus(n,t,i)},f=function(n,t){t._onUpdateError(n)},r=this,e=function(){r.CheckUpdateStatus(u,f,t,i,r)};window.setTimeout(e,2e3)}else alert("Unknown status from CheckUpdateStatus")},_onUpdateError:function(){this._updateStatus(2)},CheckUpdateStatus:function(n,t,i,r,u){try{if(i.PreStartGame(),Roblox.Client.IsIE())var f=i.IsUpToDate;else f=i.Get_IsUpToDate();f||f===undefined?n(8,i,u):n(7,i,u)}catch(e){n(8,i,u)}},RequestGame:function(n,t){var r;this._showDialog();var u=function(n,t){t._onGameStatus(n)},f=function(n,t){t._onGameError(n)},e=this,i=!1;return typeof Party!="undefined"&&typeof Party.AmILeader=="function"&&(i=Party.AmILeader()),typeof angular=="undefined"||angular.isUndefined(angular.element("#chat-container").scope())||(i=angular.element("#chat-container").scope().isPartyLeader()),r=function(){EventTracker.start("GetConnection"),RobloxPlaceLauncherService.RequestGame(n,i,t,u,f,e)},this._startUpdatePolling(r),!1},RequestPrivateGame:function(n,t,i,r){this._showDialog();var u=function(n,t){t._onGameStatus(n)},f=function(n,t){t._onGameError(n)},e=this,o=function(){EventTracker.start("GetConnection"),RobloxPlaceLauncherService.RequestPrivateGame(n,t,i,r,u,f,e)};return this._startUpdatePolling(o),!1},RequestPlayWithParty:function(n,t,i){this._showDialog();var r=function(n,t){t._onGameStatus(n)},u=function(n,t){t._onGameError(n)},f=this,e=function(){EventTracker.start("GetConnection"),RobloxPlaceLauncherService.RequestPlayWithParty(n,t,i,r,u,f)};return this._startUpdatePolling(e),!1},RequestGroupBuildGame:function(n){this._showDialog();var t=function(n,t){t._onGameStatus(n,!0)},i=function(n,t){t._onGameError(n)},r=this,u=function(){EventTracker.start("GetConnection"),RobloxPlaceLauncherService.RequestGroupBuildGame(n,t,i,r)};return this._startUpdatePolling(u),!1},RequestFollowUser:function(n){this._showDialog();var t=function(n,t){t._onGameStatus(n)},i=function(n,t){t._onError(n)},r=this,u=function(){EventTracker.start("GetConnection"),RobloxPlaceLauncherService.RequestFollowUser(n,t,i,r)};return this._startUpdatePolling(u),!1},RequestGameJob:function(n,t){this._showDialog();var i=function(n,t){t._onGameStatus(n)},r=function(n,t){t._onGameError(n)},u=this,f=function(){EventTracker.start("GetConnection"),RobloxPlaceLauncherService.RequestGameJob(n,t,i,r,u)};return this._startUpdatePolling(f),!1},CancelLaunch:function(){return this._cancelled=!0,$.modal.close(),!1},dispose:function(){RBX.PlaceLauncher.callBaseMethod(this,"dispose")}};

;// ClientInstaller.js
typeof Roblox=="undefined"&&(Roblox={}),Roblox.Client={},Roblox.Client._installHost=null,Roblox.Client._installSuccess=null,Roblox.Client._CLSID=null,Roblox.Client._continuation=null,Roblox.Client._skip=null,Roblox.Client._isIDE=null,Roblox.Client._isRobloxBrowser=null,Roblox.Client._isPlaceLaunch=!1,Roblox.Client._silentModeEnabled=!1,Roblox.Client._bringAppToFrontEnabled=!1,Roblox.Client._numLocks=0,Roblox.Client._logTiming=!1,Roblox.Client._logStartTime=null,Roblox.Client._logEndTime=null,Roblox.Client._hiddenModeEnabled=!1,Roblox.Client._runInstallABTest=function(){},Roblox.Client._currentPluginVersion="",Roblox.Client._whyIsRobloxLauncherNotCreated=null,Roblox.Client._eventStreamLoggingEnabled=!1,Roblox.Client._launchMode="unknown",Roblox.Client.LauncherNotCreatedReasons={pluginNotInstalled:"pluginNotInstalled",pluginNotAllowed:"pluginNotAllowed",wrongInstallHost:"wrongInstallHost",wrongInstallHostAndPluginWasNotAllowed:"wrongInstallHostAndPluginWasNotAllowed",versionMismatch:"versionMismatch",unknownError:"unknownError"},Roblox.Client.ReleaseLauncher=function(n,t,i){if(t&&Roblox.Client._numLocks--,(i||Roblox.Client._numLocks<=0)&&(n!=null&&(document.getElementById("pluginObjDiv").innerHTML="",n=null),Roblox.Client._numLocks=0),Roblox.Client._logTiming){Roblox.Client._logEndTime=new Date;var r=Roblox.Client._logEndTime.getTime()-Roblox.Client._logStartTime.getTime();console&&console.log&&console.log("Roblox.Client: "+r+"ms from Create to Release.")}},Roblox.Client.IsUpToDateVersion=function(n){var r=Roblox.Client._currentPluginVersion,i,t;if(r==null||r=="")return!0;try{if(i=n.Get_Version(),i=="-1"||i=="undefined")return!0}catch(o){return!1}if(r===i)return!0;var u=$.map(i.split(","),function(n){return parseInt(n,10)}),f=$.map(r.split(","),function(n){return parseInt(n,10)}),e=Math.min(f.length,u.length);for(t=0;t<e;t++){if(f[t]>u[t])return!1;if(f[t]<u[t])return!0}return u.length!==f.length?!1:!0},Roblox.Client.GetInstallHost=function(n){if(Roblox.Client.IsIE())return n.InstallHost;var t=n.Get_InstallHost();return t.match(/roblox.com$/)?t:t.substring(0,t.length-1)},Roblox.Client.IsIE=function(){try{return!!new ActiveXObject("htmlfile")}catch(n){return!1}},Roblox.Client.browserRequiresPluginActivation=function(){return/firefox/i.test(navigator.userAgent)||window.chrome||window.safari},Roblox.Client.CreateLauncher=function(n){var t,u,i,f,r;if(Roblox.Client._logTiming&&(Roblox.Client._logStartTime=new Date),n&&Roblox.Client._numLocks++,(Roblox.Client._installHost==null||Roblox.Client._CLSID==null)&&typeof initClientProps=="function"&&initClientProps(),t=document.getElementById("robloxpluginobj"),u=$("#pluginObjDiv"),t||(Roblox.Client._hiddenModeEnabled=!1,Roblox.Client.IsIE()?(i='<object classid="clsid:'+Roblox.Client._CLSID+'"',i+=' id="robloxpluginobj" type="application/x-vnd-roblox-launcher"',i+=' codebase="'+Roblox.Client._installHost+'"><p>Failed to INIT Plugin</p></object>',$(u).append(i)):(i='<object id="robloxpluginobj" type="application/x-vnd-roblox-launcher"><p>Please Install the plugin</p></object>',$(u).append(i)),t=document.getElementById("robloxpluginobj")),!t)return Roblox.Client.ReleaseLauncher(t,n,!1),Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.unknownError,null;if($("#robloxpluginobj p").is(":visible"))return Roblox.Client.ReleaseLauncher(t,n,!1),Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.pluginNotInstalled,null;try{t.Hello()}catch(e){return f=Roblox.Client.browserRequiresPluginActivation(),f&&!$("#robloxpluginobj p").is(":visible")?Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.pluginNotAllowed:(Roblox.Client.ReleaseLauncher(),Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.unknownError),null}try{if(r=Roblox.Client.GetInstallHost(t),!r||r!=Roblox.Client._installHost)throw"wrong InstallHost: (plugins):  "+r+"  (servers):  "+Roblox.Client._installHost;}catch(e){switch(Roblox.Client._whyIsRobloxLauncherNotCreated){case Roblox.Client.LauncherNotCreatedReasons.pluginNotAllowed:Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.wrongInstallHostAndPluginWasNotAllowed;break;case Roblox.Client.LauncherNotCreatedReasons.wrongInstallHostAndPluginWasNotAllowed:break;default:Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.wrongInstallHost}return Roblox.Client.ReleaseLauncher(t,n,!1),null}return Roblox.Client.IsUpToDateVersion(t)?t:(Roblox.Client._whyIsRobloxLauncherNotCreated=Roblox.Client.LauncherNotCreatedReasons.versionMismatch,null)},Roblox.Client.whyIsRobloxLauncherNotCreated=function(){return Roblox.Client._whyIsRobloxLauncherNotCreated},Roblox.Client.isIDE=function(){if(Roblox.Client._isIDE==null&&(Roblox.Client._isIDE=!1,Roblox.Client._isRobloxBrowser=!1,window.external))try{window.external.IsRobloxAppIDE!==undefined&&(Roblox.Client._isIDE=window.external.IsRobloxAppIDE,Roblox.Client._isRobloxBrowser=!0)}catch(n){}return Roblox.Client._isIDE},Roblox.Client.isRobloxBrowser=function(){return Roblox.Client.isIDE(),Roblox.Client._isRobloxBrowser},Roblox.Client.robloxBrowserInstallHost=function(){if(window.external)try{return window.external.InstallHost}catch(n){}return""},Roblox.Client.IsRobloxProxyInstalled=function(){var n=Roblox.Client.CreateLauncher(!1),t=!1;return(n!=null&&(t=!0),Roblox.Client.ReleaseLauncher(n,!1,!1),t||Roblox.Client.isRobloxBrowser())?!0:!1},Roblox.Client.IsRobloxInstalled=function(){try{var t=Roblox.Client.CreateLauncher(!1),n=Roblox.Client.GetInstallHost(t);return Roblox.Client.ReleaseLauncher(t,!1,!1),n==Roblox.Client._installHost}catch(i){return Roblox.Client.isRobloxBrowser()?(n=Roblox.Client.robloxBrowserInstallHost(),n==Roblox.Client._installHost):!1}},Roblox.Client.SetStartInHiddenMode=function(n){try{var t=Roblox.Client.CreateLauncher(!1);if(t!==null)return t.SetStartInHiddenMode(n),Roblox.Client._hiddenModeEnabled=n,!0}catch(i){}return!1},Roblox.Client.UnhideApp=function(){try{if(Roblox.Client._hiddenModeEnabled){var n=Roblox.Client.CreateLauncher(!1);n.UnhideApp()}}catch(t){}},Roblox.Client.Update=function(){EventTracker.start("UpdateClient");try{var n=Roblox.Client.CreateLauncher(!1);n.Update(),Roblox.Client.ReleaseLauncher(n,!1,!1)}catch(t){EventTracker.endFailure("UpdateClient"),alert("Error updating: "+t)}},Roblox.Client.WaitForRoblox=function(n){var t,i;return Roblox.Client._skip?(window.location=Roblox.Client._skip,!1):(Roblox.Client._continuation=n,Roblox.Client._cancelled=!1,t="Windows",navigator.appVersion.indexOf("Mac")!=-1&&(t="Mac"),Roblox.Client.IsRobloxProxyInstalled())?(Roblox.Client._continuation(),!1):(Roblox.Client._whyIsRobloxLauncherNotCreated==Roblox.Client.LauncherNotCreatedReasons.pluginNotAllowed?(Roblox.InstallationInstructions.show("activation"),GoogleAnalyticsEvents&&GoogleAnalyticsEvents.FireEvent(["Plugin","Activation Begin",t])):(EventTracker.start("InstallClient"),Roblox.InstallationInstructions.show("installation"),Roblox.Client._runInstallABTest(),GoogleAnalyticsEvents&&GoogleAnalyticsEvents.FireEvent(["Plugin","Install Begin",t]),Roblox.Client._eventStreamLoggingEnabled&&typeof Roblox.GamePlayEvents!="undefined"&&Roblox.GamePlayEvents.SendInstallBegin(null,play_placeId),(window.chrome||window.safari)&&(window.location.hash="#chromeInstall",$.cookie("chromeInstall",n.toString().replace(/play_placeId/,play_placeId.toString())),Roblox.Client._eventStreamLoggingEnabled&&typeof Roblox.GamePlayEvents!="undefined"&&($.cookie("chromeInstallPlaceId",play_placeId),$.cookie("chromeInstallLaunchMode",Roblox.GamePlayEvents.lastContext))),i=document.getElementById("downloadInstallerIFrame"),i.src="/install/setup.ashx"),window.setTimeout(function(){Roblox.Client._ontimer()},1e3),!0)},Roblox.Client.ResumeTimer=function(n){Roblox.Client._continuation=n,Roblox.Client._cancelled=!1,window.setTimeout(function(){Roblox.Client._ontimer()},0)},Roblox.Client.Refresh=function(){try{navigator.plugins.refresh(!1)}catch(n){}},Roblox.Client._onCancel=function(){return Roblox.InstallationInstructions.hide(),Roblox.Client._cancelled=!0,EventTracker.endCancel("InstallClient"),!1},Roblox.Client._ontimer=function(){Roblox.Client._cancelled||(Roblox.Client.Refresh(),Roblox.Client.IsRobloxProxyInstalled()?(Roblox.InstallationInstructions.hide(),window.setTimeout(function(){(window.chrome||window.safari)&&window.location.hash=="#chromeInstall"&&(window.location.hash="",$.cookie("chromeInstall",null))},5e3),EventTracker.endSuccess("InstallClient"),Roblox.Client._continuation(),Roblox.Client._installSuccess&&Roblox.Client._installSuccess()):Roblox.Client._whyIsRobloxLauncherNotCreated==Roblox.Client.LauncherNotCreatedReasons.pluginNotAllowed?(Roblox.InstallationInstructions.show("activation"),window.setTimeout(function(){Roblox.Client._ontimer()},1e3)):Roblox.Client._whyIsRobloxLauncherNotCreated==Roblox.Client.LauncherNotCreatedReasons.wrongInstallHostAndPluginWasNotAllowed?(Roblox.Client._whyIsRobloxLauncherNotCreated=null,Roblox.InstallationInstructions.hide(),Roblox.Client.WaitForRoblox(Roblox.Client._continuation)):window.setTimeout(function(){Roblox.Client._ontimer()},1e3))};

;// jquery.simplemodal-1.3.5.js
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){var r=[],e=n(document),u=navigator.userAgent.toLowerCase(),f=n(window),i=[],t={ieQuirks:null,msie:/msie/.test(u)&&!/opera/.test(u),opera:/opera/.test(u)};t.ie6=t.msie&&/msie 6./.test(u)&&typeof window.XMLHttpRequest!="object",t.ie7=t.msie&&/msie 7.0/.test(u),t.boxModel=document.compatMode==="CSS1Compat",n.modal=function(t,i){return n.modal.impl.init(t,i)},n.modal.close=function(){n.modal.impl.close()},n.modal.focus=function(t){n.modal.impl.focus(t)},n.modal.setContainerDimensions=function(){n.modal.impl.setContainerDimensions()},n.modal.setPosition=function(){n.modal.impl.setPosition()},n.modal.update=function(t,i){n.modal.impl.update(t,i)},n.fn.modal=function(t){return n.modal.impl.init(this,t)},n.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},n.modal.impl={d:{},init:function(i,r){var u=this;if(u.d.data)return!1;if(t.ieQuirks=t.msie&&!(n.support.boxModel===undefined)&&!n.support.boxModel,u.o=n.extend({},n.modal.defaults,r),u.zIndex=u.o.zIndex,u.occb=!1,typeof i=="object")i=i instanceof n?i:n(i),u.d.placeholder=!1,i.parent().parent().size()>0&&(i.before(n("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),u.d.placeholder=!0,u.display=i.css("display"),u.o.persist||(u.d.orig=i.clone(!0)));else if(typeof i=="string"||typeof i=="number")i=n("<div></div>").html(i);else return alert("SimpleModal Error: Unsupported data type: "+typeof i),u;return u.create(i),i=null,u.open(),n.isFunction(u.o.onShow)&&u.o.onShow.apply(u,[u.d]),u},create:function(u){var f=this;f.getDimensions(),f.o.modal&&t.ie6&&(f.d.iframe=n('<iframe src="javascript:false;"></iframe>').css(n.extend(f.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:i[0],width:i[1],zIndex:f.o.zIndex,top:0,left:0})).appendTo(f.o.appendTo)),f.d.overlay=n("<div></div>").attr("id",f.o.overlayId).addClass("simplemodal-overlay").css(n.extend(f.o.overlayCss,{display:"none",opacity:f.o.opacity/100,height:f.o.modal?r[0]:0,width:f.o.modal?r[1]:0,position:"fixed",left:0,top:0,zIndex:f.o.zIndex+1})).appendTo(f.o.appendTo),f.d.container=n("<div></div>").attr("id",f.o.containerId).addClass("simplemodal-container").css(n.extend({position:f.o.fixed?"fixed":"absolute"},f.o.containerCss,{display:"none",zIndex:f.o.zIndex+2})).append(f.o.close&&f.o.closeHTML?n(f.o.closeHTML).addClass(f.o.closeClass):"").appendTo(f.o.appendTo),f.d.wrap=n("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(f.d.container),f.d.data=u.attr("id",u.attr("id")||f.o.dataId).addClass("simplemodal-data").css(n.extend(f.o.dataCss,{display:"none"})).appendTo("body"),u=null,f.setContainerDimensions(),f.d.data.appendTo(f.d.wrap),(t.ie6||t.ieQuirks)&&f.fixIE()},bindEvents:function(){var u=this;n("."+u.o.closeClass).bind("click.simplemodal",function(n){n.preventDefault(),u.close()}),u.o.modal&&u.o.close&&u.o.overlayClose&&u.d.overlay.bind("click.simplemodal",function(n){n.preventDefault(),u.close()}),e.bind("keydown.simplemodal",function(n){u.o.modal&&n.keyCode===9?u.watchTab(n):u.o.close&&u.o.escClose&&n.keyCode===27&&(n.preventDefault(),u.close())}),f.bind("resize.simplemodal orientationchange.simplemodal",function(){u.getDimensions(),u.o.autoResize?u.setContainerDimensions():u.o.autoPosition&&u.setPosition(),t.ie6||t.ieQuirks?u.fixIE():u.o.modal&&(u.d.iframe&&u.d.iframe.css({height:i[0],width:i[1]}),u.d.overlay.css({height:r[0],width:r[1]}))})},unbindEvents:function(){n("."+this.o.closeClass).unbind("click.simplemodal"),e.unbind("keydown.simplemodal"),f.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var i=this,t=i.o.position;n.each([i.d.iframe||null,i.o.modal?i.d.overlay:null,i.d.container.css("position")==="fixed"?i.d.container:null],function(n,i){var l,a,e,o;if(i){var h="document.body.clientHeight",s="document.body.clientWidth",w="document.body.scrollHeight",c="document.body.scrollLeft",v="document.body.scrollTop",y="document.body.scrollWidth",b="document.documentElement.clientHeight",p="document.documentElement.clientWidth",f="document.documentElement.scrollLeft",u="document.documentElement.scrollTop",r=i[0].style;r.position="absolute",n<2?(r.removeExpression("height"),r.removeExpression("width"),r.setExpression("height",""+w+" > "+h+" ? "+w+" : "+h+' + "px"'),r.setExpression("width",""+y+" > "+s+" ? "+y+" : "+s+' + "px"')):(t&&t.constructor===Array?(e=t[0]?typeof t[0]=="number"?t[0].toString():t[0].replace(/px/,""):i.css("top").replace(/px/,""),l=e.indexOf("%")===-1?e+" + (t = "+u+" ? "+u+" : "+v+') + "px"':parseInt(e.replace(/%/,""))+" * (("+b+" || "+h+") / 100) + (t = "+u+" ? "+u+" : "+v+') + "px"',t[1]&&(o=typeof t[1]=="number"?t[1].toString():t[1].replace(/px/,""),a=o.indexOf("%")===-1?o+" + (t = "+f+" ? "+f+" : "+c+') + "px"':parseInt(o.replace(/%/,""))+" * (("+p+" || "+s+") / 100) + (t = "+f+" ? "+f+" : "+c+') + "px"')):(l="("+b+" || "+h+") / 2 - (this.offsetHeight / 2) + (t = "+u+" ? "+u+" : "+v+') + "px"',a="("+p+" || "+s+") / 2 - (this.offsetWidth / 2) + (t = "+f+" ? "+f+" : "+c+') + "px"'),r.removeExpression("top"),r.removeExpression("left"),r.setExpression("top",l),r.setExpression("left",a))}})},focus:function(t){var i=this,u=t&&n.inArray(t,["first","last"])!==-1?t:"first",r=n(":input:enabled:visible:"+u,i.d.wrap);setTimeout(function(){r.length>0?r.focus():i.d.wrap.focus()},10)},getDimensions:function(){var t=this,n=typeof window.innerHeight=="undefined"?f.height():window.innerHeight;r=[e.height(),e.width()],i=[n,f.width()]},getVal:function(n,t){return n?typeof n=="number"?n:n==="auto"?0:n.indexOf("%")>0?parseInt(n.replace(/%/,""))/100*(t==="h"?i[0]:i[1]):parseInt(n.replace(/px/,"")):null},update:function(n,t){var i=this;if(!i.d.data)return!1;i.d.origHeight=i.getVal(n,"h"),i.d.origWidth=i.getVal(t,"w"),i.d.data.hide(),n&&i.d.container.css("height",n),t&&i.d.container.css("width",t),i.setContainerDimensions(),i.d.data.show(),i.o.focus&&i.focus(),i.unbindEvents(),i.bindEvents()},setContainerDimensions:function(){var n=this,v=t.ie6||t.ie7,r=n.d.origHeight?n.d.origHeight:t.opera?n.d.container.height():n.getVal(v?n.d.container[0].currentStyle.height:n.d.container.css("height"),"h"),u=n.d.origWidth?n.d.origWidth:t.opera?n.d.container.width():n.getVal(v?n.d.container[0].currentStyle.width:n.d.container.css("width"),"w"),o=n.d.data.outerHeight(!0),s=n.d.data.outerWidth(!0),f;n.d.origHeight=n.d.origHeight||r,n.d.origWidth=n.d.origWidth||u;var l=n.o.maxHeight?n.getVal(n.o.maxHeight,"h"):null,a=n.o.maxWidth?n.getVal(n.o.maxWidth,"w"):null,h=l&&l<i[0]?l:i[0],c=a&&a<i[1]?a:i[1],e=n.o.minHeight?n.getVal(n.o.minHeight,"h"):"auto";r=r?n.o.autoResize&&r>h?h:r<e?e:r:o?o>h?h:n.o.minHeight&&e!=="auto"&&o<e?e:o:e,f=n.o.minWidth?n.getVal(n.o.minWidth,"w"):"auto",u=u?n.o.autoResize&&u>c?c:u<f?f:u:s?s>c?c:n.o.minWidth&&f!=="auto"&&s<f?f:s:f,n.d.container.css({height:r,width:u}),n.d.wrap.css({overflow:o>r||s>u?"auto":"visible"}),n.o.autoPosition&&n.setPosition()},setPosition:function(){var n=this,t,r,u=i[0]/2-n.d.container.outerHeight(!0)/2,e=i[1]/2-n.d.container.outerWidth(!0)/2,o=n.d.container.css("position")!=="fixed"?f.scrollTop():0;n.o.position&&Object.prototype.toString.call(n.o.position)==="[object Array]"?(t=o+(n.o.position[0]||u),r=n.o.position[1]||e):(t=o+u,r=e),n.d.container.css({left:r,top:t})},watchTab:function(t){var i=this,r;n(t.target).parents(".simplemodal-container").length>0?(i.inputs=n(":input:enabled:visible:first, :input:enabled:visible:last",i.d.data[0]),(!t.shiftKey&&t.target===i.inputs[i.inputs.length-1]||t.shiftKey&&t.target===i.inputs[0]||i.inputs.length===0)&&(t.preventDefault(),r=t.shiftKey?"last":"first",i.focus(r))):(t.preventDefault(),i.focus())},open:function(){var t=this;t.d.iframe&&t.d.iframe.show(),n.isFunction(t.o.onOpen)?t.o.onOpen.apply(t,[t.d]):(t.d.overlay.show(),t.d.container.show(),t.d.data.show()),t.o.focus&&t.focus(),t.bindEvents()},close:function(){var t=this,i;if(!t.d.data)return!1;t.unbindEvents(),n.isFunction(t.o.onClose)&&!t.occb?(t.occb=!0,t.o.onClose.apply(t,[t.d])):(t.d.placeholder?(i=n("#simplemodal-placeholder"),t.o.persist?i.replaceWith(t.d.data.removeClass("simplemodal-data").css("display",t.display)):(t.d.data.hide().remove(),i.replaceWith(t.d.orig))):t.d.data.hide().remove(),t.d.container.hide().remove(),t.d.overlay.hide(),t.d.iframe&&t.d.iframe.hide().remove(),t.d.overlay.remove(),t.d={})}}});

;// GenericModal.js
typeof Roblox.GenericModal=="undefined"&&(Roblox.GenericModal=function(){function s(u,f,e,s,h,c){var l,a;t.isOpen=!0,n=$.extend({},n,c),i=s,l=$("div.GenericModal").filter(":first"),l.find("div.Title").text(u),f===null?l.addClass("noImage"):(l.find("img.GenericModalImage").attr("src",f),l.removeClass("noImage")),l.find("div.Message").html(e),h&&(l.removeClass("smallModal"),l.addClass("largeModal")),a=l.find(o),a.attr("class","btn-large "+n.acceptColor),a.unbind(),a.bind("click",function(){r()}),l.modal(n)}function r(){t.isOpen=!1,$.modal.close(),typeof i=="function"&&i()}var f="btn-primary",u="btn-neutral",e="btn-negative",o=".ImageButton.btn-neutral.btn-large.roblox-ok",t={isOpen:!1},n={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},acceptColor:u},i;return $(function(){$(document).on("click",".GenericModal .roblox-ok",function(){r()})}),{close:r,open:s,status:t,green:f,blue:u,gray:e}}()),Roblox.GenericModal.Resources={ErrorText:"Error",ErrorMessage:"Sorry, an error occurred."},$(document).keypress(function(n){n.which===13&&Roblox.GenericModal.status.isOpen&&Roblox.GenericModal.close()});

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// jquery.ba-postmessage.min.js
/*
 * jQuery postMessage - v0.5 - 9/11/2009
 * http://benalman.com/projects/jquery-postmessage-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var g,d,j=1,a,b=this,f=!1,h="postMessage",e="addEventListener",c,i=b[h]&&!$.browser.opera;$[h]=function(k,l,m){if(!l){return}k=typeof k==="string"?k:$.param(k);m=m||parent;if(i){m[h](k,l.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(l){m.location=l.replace(/#.*$/,"")+"#"+(+new Date)+(j++)+"&"+k}}};$.receiveMessage=c=function(l,m,k){if(i){if(l){a&&c();a=function(n){if((typeof m==="string"&&n.origin!==m)||($.isFunction(m)&&m(n.origin)===f)){return f}l(n)}}if(b[e]){b[l?e:"removeEventListener"]("message",a,f)}else{b[l?"attachEvent":"detachEvent"]("onmessage",a)}}else{g&&clearInterval(g);g=null;if(l){k=typeof m==="number"?m:typeof k==="number"?k:100;g=setInterval(function(){var o=document.location.hash,n=/^#?\d+&/;if(o!==d&&n.test(o)){d=o;l({data:o.replace(n,"")})}},k)}}}})(jQuery);

;// parentFrameLogin.js
$(function(){var n=!1,t;$("#header-login").click(function(i){return n=!n,t(n),$("#iFrameLogin").toggle(),$("#header-login").toggleClass("active"),i.stopPropagation(),!1}),$("#headerLogin").click(function(i){return n=!n,t(n),$("#iFrameLogin").toggle(),$("#headerLogin").toggleClass("active"),i.stopPropagation(),!1}),$(document).click(function(){n&&($("#header-login").removeClass("active"),$("#headerLogin").removeClass("active"),$("#iFrameLogin").hide(),n=!1)}),t=function(n){$(".IframeAdHide").each(function(){$(this).height()==90&&$(this).width()==728&&(n?$(this).css("visibility","hidden"):$(this).css("visibility","visible"))})},$("#header-login-wrapper").data("display-opened")=="True"&&($("#header-login").addClass("active"),$("#iFrameLogin").css("display","block"))});

;// IframeEventListener.js
$(function(){typeof $.receiveMessage=="function"&&$.receiveMessage(function(t){n(t.data)});var n=function(n){var i,r,t;n.indexOf("resizeFrame")!=-1?(t=n.split(","),i=t[1]?parseInt(t[1]):null,Roblox.SignupOrLoginParent.resizeFrame(i)):n.indexOf("resize")!=-1?(t=n.split(","),$("#iFrameLogin").css({height:t[1]})):n.indexOf("fbRegister")!=-1?(t=n.split("^"),r="&fbname="+encodeURIComponent(t[1])+"&fbem="+encodeURIComponent(t[2])+"&fbdt="+encodeURIComponent(t[3]),window.location.href="../Login/Default.aspx?iFrameFacebookSync=true"+r):n.indexOf("reload")!=-1&&(n.indexOf(",")!=-1?(t=n.split(","),window.location.href=t[1]):window.location.reload())}});

;// extensions/Thumbnails.js
$(function(){var n=1500;$.fn.loadRobloxThumbnails=function(){function t(i){var r=i.data("retry-url");r&&$.ajax({url:r,dataType:"json",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(r){if(r.Final){var u=i.find("img");u.length===1?u.attr("src",r.Url):i.find("img.original-image").attr("src",r.Url),i.removeAttr("data-retry-url")}else i.retryCount=i.retryCount?i.retryCount+1:1,i.retryCount<10&&setTimeout(function(){t(i)},n)}})}return this.each(function(){var i=$(this);setTimeout(function(){t(i)},n)})}});

;// IDE/Welcome.js
$(function(){function i(){var t=$(this);!n&&t.hasClass("app-place")&&Roblox.GenericModal.open(Roblox.IDEWelcome.Resources.appStudioTitle,"/images/Icons/img-alert.png",Roblox.IDEWelcome.Resources.appStudioBody),t.hasClass("place-selected")?(t.removeClass("place-selected"),$("div#ButtonRow").hide()):($(".place.place-selected").removeClass("place-selected"),t.addClass("place-selected"),$("div#ButtonRow").show())}function u(n){var t="/ide/placelist",i,r;return n&&(i=$("div.place").length,r="?startRow="+i,t+=r),t}function r(r,u){$.ajax({url:u,cache:!1,dataType:"html",success:function(u){var f;f=n?r.parent():$("#assetList"),r.remove(),f.append($(u)),t(),$(u).animate({opacity:1},"fast"),n||($(".place").unbind("click"),$(".place").click(i)),$(".place a").removeAttr("href")}})}var t=function(){$(".item-name-container").each(function(n,t){t=$(t),t.html(fitStringToWidthSafe(t.html(),200,""))})},n;if($(window).resize(function(){var n=$(".main div.welcome-content-area:visible");$(window).height()<n.height()?$(".navbar").height(n.height()):$(".navbar").height($(window).height()-124),n.height($(window).height()-170)}),$(".navbar").height($(window).height()-124),$("ul.filelist li a").each(function(){this.innerHTML=fitStringToWidthSafe($(this).text(),$(".navlist li p").width())}),$("#PublishedProjects").length>0?$("#MyProjects").addClass("navselected"):$(".navlist li").first().addClass("navselected"),$("ul.filelist li a").click(function(){Roblox.Client.isIDE()?window.external.OpenRecentFile($(this).data("js-file")):Roblox.GenericModal.open(Roblox.IDEWelcome.Resources.openProject,"/images/Icons/img-alert.png",Roblox.IDEWelcome.Resources.openProjectText+" <a target='_blank' href='http://wiki.roblox.com/index.php/Studio'>"+Roblox.IDEWelcome.Resources.robloxStudio+"</a>.")}),$("#header-signup").click(function(){window.open("/Login/NewAge.aspx")}),$("#HeaderHome").click(function(){window.location="/Home/Default.aspx"}),n=$("#GamesView").length>0,$("#MyProjects").click(function(){$("#TemplatesView").hide(),$("#GamesView").hide(),$("#MyProjectsView").show(),$(".navlist li.navselected").removeClass("navselected"),$(this).addClass("navselected")}),$("#NewProject").click(function(){$("#TemplatesView").show(),$("#GamesView").hide(),$("#MyProjectsView").hide(),$(".navlist li.navselected").removeClass("navselected"),$(this).addClass("navselected")}),$("#GamesToggle").click(function(){$("#TemplatesView").hide(),$("#GamesView").show(),$("#MyProjectsView").hide(),$(".navlist li.navselected").removeClass("navselected"),$(this).addClass("navselected")}),$(".item-box-image").hover(function(){$(this).attr("src",$(this).data("animated-src"))},function(){$(this).attr("src",$(this).data("static-src"))}),n){$("#assetList").on("click",".place",i);$("#universeList").on("click",".place",function(){window.external.OpenUniverse($(this).data("universeid"))});$("#groupUniverseList").on("click",".place",function(){window.external.OpenUniverse($(this).data("universeid"))});$("#GamesView .group-select").on("change","select",function(){var i=$(this).find(":selected").val(),n=$("#groupUniverseList");n.find(".loading").length==0&&n.append("<div class='loading'></div>"),$.ajax({url:"/ide/gamelist/"+i,cache:!1,dataType:"html",success:function(i){n.find(".gameplace").remove(),n.find(".loading").remove(),n.append($(i)),t(),$(i).animate({opacity:1},"fast");var r=$(i).find("a[data-retry-url]");r.length>0&&r.loadRobloxThumbnails()}})})}else $(".place").click(i);$(".place a").removeAttr("href"),$("ul.navlist li").last().addClass("lastnav"),$("#EditButton").click(function(){var n,t;$(this).hasClass("btn-disabled-primary")||($("#BuildButton, #EditButton").addClass("btn-disabled-primary"),$("#CollapseButton").addClass("btn-disabled-negative"),n=$(".place.place-selected"),Roblox.Client.isIDE()?(t=n.attr("data-placeid"),window.play_placeId=t,window.editGameInStudio(t)):Roblox.GenericModal.open(Roblox.IDEWelcome.Resources.editPlace,"/images/Icons/img-alert.png",Roblox.IDEWelcome.Resources.toEdit+n.find("p").text()+Roblox.IDEWelcome.Resources.openPage+"<a target='_blank' href='http://wiki.roblox.com/index.php/Studio'>"+Roblox.IDEWelcome.Resources.robloxStudio+"</a>."),$("#BuildButton").removeClass("btn-disabled-primary"),$("#EditButton").removeClass("btn-disabled-primary"),$("#CollapseButton").removeClass("btn-disabled-negative"),$("#CollapseButton").trigger("click"))}),$("#BuildButton").click(function(){var n,i,t;$(this).hasClass("btn-disabled-primary")||($("#BuildButton, #EditButton").addClass("btn-disabled-primary"),$("#CollapseButton").addClass("btn-disabled-negative"),n=$(".place.place-selected"),Roblox.Client.isIDE()?(i=n.attr("data-active")=="True",i?(t=n.attr("data-placeid"),window.play_placeId=t,buildGameInStudio(t)):Roblox.GenericModal.open(Roblox.IDEWelcome.Resources.placeInactive,"/images/Icons/img-alert.png",Roblox.IDEWelcome.Resources.toBuild+n.find("p").text()+Roblox.IDEWelcome.Resources.activate)):Roblox.GenericModal.open(Roblox.IDEWelcome.Resources.buildPlace,"/images/Icons/img-alert.png",Roblox.IDEWelcome.Resources.toBuild+n.find("p").text()+Roblox.IDEWelcome.Resources.openPage+"<a target='_blank' href='http://wiki.roblox.com/index.php/Studio'>"+Roblox.IDEWelcome.Resources.robloxStudio+"</a>."),$("#BuildButton").removeClass("btn-disabled-primary"),$("#EditButton").removeClass("btn-disabled-primary"),$("#CollapseButton").removeClass("btn-disabled-negative"),$("#CollapseButton").trigger("click"))}),$("#CollapseButton").click(function(){$(this).hasClass("btn-disabled-negative")||($(".place.place-selected").removeClass("place-selected"),$("div#ButtonRow").hide())}),$("#StudioRecentFiles").length==0&&$("ul.navlist").css("border-bottom","none");$("#assetList").on("click","#load-more-assets",function(){var n=$(this).parent(),t=u(!0);r(n,t)});if(n){$("#universeList").on("click",".load-more-universes",function(){var n=$(this).parent(),t="/ide/gamelist?page="+$(this).data("next-page");r(n,t)});$("#groupUniverseList").on("click",".load-more-universes",function(){var n=$("#GamesView .group-select select").find(":selected").val(),t=$(this).parent(),i="/ide/gamelist/"+n+"?page="+$(this).data("next-page");r(t,i)})}$("#MyProjectsView .group-select").on("change","select",function(){var i=$(this).find(":selected").val(),n=$("#groupAssetList .content");n.append("<div class='loading'></div>"),$.ajax({url:"/ide/placelist/"+i,cache:!1,dataType:"html",success:function(i){n.find(".loading").remove(),n.find(".gameplace").remove(),n.append($(i)),t(),$(i).animate({opacity:1},"fast");var r=$(i).find("a[data-retry-url]");r.length>0&&r.loadRobloxThumbnails(),$(".place a").removeAttr("href")}})});$("#groupAssetList").on("click",".place.asset",i);t(),$("[data-retry-url]").loadRobloxThumbnails()});

;// IDE/BuildTemplates.js
function getSelectedTemplateType(){return $('div.templates[data-templatetype="'+$("ul.templatetypes li.selectedType").attr("data-templatetype")+'"]')}$(function(){var n=$("ul.templatetypes li"),t;n.click(function(){var n=getSelectedTemplateType();n.hide(),$("ul.templatetypes li.selectedType").removeClass("selectedType"),$(this).addClass("selectedType"),n=getSelectedTemplateType(),n.show()}),t=n.first(),t.addClass("selectedType"),getSelectedTemplateType().show(),Roblox.require("Widgets.PlaceImage",function(){Roblox.Widgets.PlaceImage.populate()}),$(".template").click(function(){Roblox.Client.isIDE()?(GoogleAnalyticsEvents&&GoogleAnalyticsEvents.FireEvent(["Studio","PlaceTemplateOpened",$(this).attr("placeid")]),window.editTemplateInStudio($(this).attr("placeid"))):Roblox.GenericModal.open("New Project","/images/Icons/img-alert.png","To build using this template, open to this page in <a target='_blank' href='http://wiki.roblox.com/index.php/Studio'>ROBLOX Studio</a>.")}),$(".template a").removeAttr("href")});

;// StringTruncator.js
function InitStringTruncator(){isInitialized||(fitStringSpan=document.createElement("span"),fitStringSpan.style.display="inline-block",fitStringSpan.style.visibility="hidden",fitStringSpan.style.height="0px",fitStringSpan.style.padding="0px",document.body.appendChild(fitStringSpan),isInitialized=!0)}function fitStringToWidth(n,t,i){function o(n){return n.replace("<","&lt;").replace(">","&gt;")}var u,r,f,e,s;if(isInitialized||InitStringTruncator(),i&&(fitStringSpan.className=i),u=o(n),fitStringSpan.innerHTML=u,fitStringSpan.offsetWidth>t){for(r=0,e=n.length;s=e-r>>1;)f=r+s,fitStringSpan.innerHTML=o(n.substring(0,f))+"&hellip;",fitStringSpan.offsetWidth>t?e=f:r=f;u=n.substring(0,r)+"&hellip;"}return u}function fitStringToWidthSafe(n,t,i){var r=fitStringToWidth(n,t,i),u;return r.indexOf("&hellip;")!=-1&&(u=r.lastIndexOf(" "),u!=-1&&u+10<=r.length&&(r=r.substring(0,u+2)+"&hellip;")),r}function fitStringToWidthSafeText(n,t,i){return fitStringToWidthSafe(n,t,i).replace("&hellip;","...")}var isInitialized=!1,fitStringSpan=null;

;// widgets/tabs.js
$(function(){function i(n){var t=$(n),i=t.parent(),r=i.next().children().eq(t.index());$.each([t,r],function(n,t){t.addClass("tab-active").siblings().removeClass("tab-active")})}var t=$(".tab-container"),n=t.filter(".tab-history-hash"),f;t.children("div").on("click",function(){var t=$(this);i(this),t.parent().trigger("tabsactivate",{newTab:t})});if(n.length){function r(){return"#"+n.next().children(".tab-active").attr("id")}function u(t){var r=$(t).index();r!==-1&&i(n.children().eq(r))}window.location.hash?u(window.location.hash):f=r();n.on("tabsactivate",function(){history.pushState({},"",r())});$(window).on("popstate",function(){u(window.location.hash?window.location.hash:f)})}});

;// JavascriptEndpoints.js
typeof Roblox==typeof undefined&&(Roblox={}),Roblox.Endpoints=Roblox.Endpoints||{addCrossDomainOptionsToAllRequests:!1},Roblox.Endpoints.isAbsolute=function(n){var t=new RegExp("^([a-z]+://|//)");return t.test(n)},Roblox.Endpoints.splitAtQueryString=function(n){var i=new RegExp("\\?(?!})"),t=i.exec(n);return t===null?{url:n,query:""}:{url:n.substring(0,t.index),query:n.substring(t.index)}},Roblox.Endpoints.ajaxPrefilter=function(n){var r=Roblox.Endpoints.generateAbsoluteUrl(n.url,n.data,n.crossDomain);n.url=r,Roblox.Endpoints.addCrossDomainOptionsToAllRequests&&n.url.indexOf("rbxcdn.com")<0&&n.url.indexOf("s3.amazonaws.com")<0&&(n.crossDomain=!0,n.xhrFields=n.xhrFields||{},n.xhrFields.withCredentials=!0)},Roblox.Endpoints.generateAbsoluteUrl=function(n,t,i){var f=Roblox.Endpoints.splitAtQueryString(n),r=f.url.toLowerCase(),u=r,e;return typeof Roblox.Endpoints.Urls!=typeof undefined&&i&&(e=typeof Roblox.Endpoints.Urls[r.toLowerCase()]!=typeof undefined,e?u=Roblox.Endpoints.getAbsoluteUrl(r):Roblox.Endpoints.isAbsolute(r)||typeof GoogleAnalyticsEvents=="undefined"||GoogleAnalyticsEvents.FireEvent(["Unmapped COR",r])),u.indexOf("{")>-1&&$.each(t,function(n,t){var i=new RegExp("{"+n.toLowerCase()+"(:.*?)?\\??}");u=u.replace(i,t)}),u+f.query},Roblox.Endpoints.getAbsoluteUrl=function(n){var t,r,i,u;return typeof Roblox.Endpoints.Urls==typeof undefined?n:n.length===0||Roblox.Endpoints.isAbsolute(n)?n:(n.indexOf("/")!==0&&(t=window.location.pathname,r=t.slice(0,t.lastIndexOf("/")+1),n=r+n),i=Roblox.Endpoints.Urls[n.toLowerCase()],i===undefined)?(u=window.location.protocol+"//"+window.location.hostname,u+n):i},$.ajaxPrefilter(Roblox.Endpoints.ajaxPrefilter);
